if (self.CavalryLogger) { CavalryLogger.start_js(["ngkT5"]); }

__d("SignalsSimpleFadeOutContainer.react",["Animation","React","ReactDOM","joinClasses"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={show:!0},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this,c=this.props,d=c.delay;c=c.duration;var e=b("ReactDOM").findDOMNode(this);e&&(this.$1=new(b("Animation"))(e).from("opacity",1).to("opacity",1).duration(d*1e3).checkpoint().from("opacity",1).to("opacity",0).duration(c*1e3).ondone(function(){a.setState({show:!1})}).go())};d.componentWillUnmount=function(){this.$1&&this.$1.stop()};d.render=function(){var a=this.props,c=a.className;a=a.children;var d=this.state.show;return d?b("React").jsx("div",{className:b("joinClasses")(c),children:a}):null};return c}(a);e.exports=c}),null);
__d("SUIThreeStateCheckboxEnum",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({CHECKED:null,PARTIAL:null,UNCHECKED:null});e.exports=a}),null);
__d("SUIThreeStateCheckboxInput.react",["cx","KeyStatus","React","RTLKeys","SUIComponent","SUIErrorComponentUtil","SUIInternalMouseUpListener","SUITheme","SUIThreeStateCheckboxEnum","Tooltip","VirtualCursorStatus","getActiveElement","gkx","joinClasses","prop-types","uniqueID","withSUITheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("KeyStatus").isKeyDown,i=b("VirtualCursorStatus").isVirtualCursorTriggered;a=b("gkx")("678820")?b("React").Component:b("SUIComponent");c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this)||this;c.$SUIThreeStateCheckboxInput3=function(a){var d=b("getActiveElement")();if(d&&d.nodeName==="A")return;d=c.props.value===b("SUIThreeStateCheckboxEnum").CHECKED?b("SUIThreeStateCheckboxEnum").UNCHECKED:b("SUIThreeStateCheckboxEnum").CHECKED;a.preventDefault();c.props.disabled||c.props.onChange(d,a)};c.$SUIThreeStateCheckboxInput4=function(){c.setState({isActive:!1,showFocusRing:!1})};c.$SUIThreeStateCheckboxInput5=function(){(h()||i())&&c.setState({showFocusRing:!0})};c.$SUIThreeStateCheckboxInput6=function(a){if(!c.props.disabled)switch(a.keyCode){case b("RTLKeys").RETURN:case b("RTLKeys").SPACE:c.setState({isActive:!0,showFocusRing:!0});break}};c.$SUIThreeStateCheckboxInput7=function(a){switch(a.keyCode){case b("RTLKeys").RETURN:case b("RTLKeys").SPACE:c.setState({isActive:!1,showFocusRing:!0});break}};c.$SUIThreeStateCheckboxInput8=function(){c.props.disabled||(b("SUIInternalMouseUpListener").set(c.$SUIThreeStateCheckboxInput2),c.setState({isActive:!0,showFocusRing:!1}))};c.$SUIThreeStateCheckboxInput2=function(){c.setState({isActive:!1,showFocusRing:!1})};c.$SUIThreeStateCheckboxInput1=b("uniqueID")();c.state={isActive:!1,showFocusRing:!1};return c}var d=c.prototype;d.componentWillUnmount=function(){b("SUIInternalMouseUpListener").unset(this.$SUIThreeStateCheckboxInput2)};d.$SUIThreeStateCheckboxInput9=function(){var a=this.props.label,b,c;this.props.labelIsHidden?b=typeof a==="string"?a:void 0:c=a;return{labelAria:b,labelText:c}};d.render=function(){__p&&__p();var a=b("SUITheme").get(this),c=a.SUIThreeStateCheckboxInput,d=this.$SUIThreeStateCheckboxInput9(),e=d.labelAria;d=d.labelText;var f=d!=null&&d!=="",g=this.props.value===b("SUIThreeStateCheckboxEnum").PARTIAL?c.partiallyCheckedIcon:c.checkedIcon,h=this.props.value!==b("SUIThreeStateCheckboxEnum").UNCHECKED;h={borderColor:this.state.isActive&&c.activeCheckboxBorderColor||h&&c.checkedBorderColor||c.checkboxBorderColor,backgroundColor:this.props.disabled&&c.disabledCheckboxBackgroundColor||this.state.isActive&&c.activeCheckboxBackgroundColor||h&&c.checkedBackgroundColor||c.checkboxBackgroundColor};var i=this.props.disabled?c.disabledLabelColor:c.labelColor;e=b("React").jsx("button",{"aria-checked":this.props.value===b("SUIThreeStateCheckboxEnum").PARTIAL?"mixed":this.props.value===b("SUIThreeStateCheckboxEnum").CHECKED?"true":"false","aria-disabled":this.props.disabled,"aria-label":e,"aria-labelledby":f?this.$SUIThreeStateCheckboxInput1:void 0,className:"_1gco"+(d?" _1gcp":"")+(this.state.showFocusRing?"":" _5e9w"),"data-testid":this.props["data-testid"],id:this.props.id,onBlur:this.$SUIThreeStateCheckboxInput4,onFocus:this.$SUIThreeStateCheckboxInput5,onKeyDown:this.$SUIThreeStateCheckboxInput6,onKeyUp:this.$SUIThreeStateCheckboxInput7,role:"checkbox",style:h,type:"button",children:b("React").cloneElement(g,{"aria-hidden":!0,className:"_3w08"+(this.props.value===b("SUIThreeStateCheckboxEnum").UNCHECKED?" accessible_elem":""),disabled:this.props.disabled})});h=this.props.display==="block";g=b("joinClasses")("_1gcq"+(this.props.disabled?" _5_yg":"")+(h?" _29cz":"")+(h?"":" _29c-"),this.props.margin);h=b("SUIErrorComponentUtil").getErrorIcon(this.props,a,"_3w09");return!f&&!h?b("React").cloneElement(e,babelHelpers["extends"]({className:b("joinClasses")(this.props.className,g,e.props.className),onClick:this.$SUIThreeStateCheckboxInput3,onMouseDown:this.$SUIThreeStateCheckboxInput8},b("Tooltip").propsFor(this.props.tooltip))):b("React").jsxs("label",babelHelpers["extends"]({className:b("joinClasses")(this.props.className,g,h&&"_3w0a"),onClick:this.$SUIThreeStateCheckboxInput3,onMouseDown:this.$SUIThreeStateCheckboxInput8,style:babelHelpers["extends"]({},c.typeStyle,{color:i,fontWeight:"normal"},this.props.style)},b("Tooltip").propsFor(this.props.tooltip),{"data-tooltip-alignh":"center"},b("SUIErrorComponentUtil").getErrorTooltipProps(this.props),{children:[e,f?b("React").jsx("span",{className:"_1gcr",id:this.$SUIThreeStateCheckboxInput1,children:d}):null,h]}))};return c}(a);c.propTypes=babelHelpers["extends"]({},b("SUIErrorComponentUtil").propTypes,{disabled:b("prop-types").bool.isRequired,label:b("prop-types").node,labelIsHidden:b("prop-types").bool,display:b("prop-types").oneOf(["inline","block"]).isRequired,margin:b("prop-types").string,onChange:b("prop-types").func.isRequired,theme:b("prop-types").instanceOf(b("SUITheme")),tooltip:b("prop-types").node,value:b("prop-types").string});c.defaultProps=babelHelpers["extends"]({},b("SUIErrorComponentUtil").defaultProps,{disabled:!1,labelIsHidden:!1,display:"inline",value:b("SUIThreeStateCheckboxEnum").UNCHECKED});c.CHECKBOX_STATES=b("SUIThreeStateCheckboxEnum");e.exports=b("withSUITheme")(c)}),null);
__d("SUICheckboxInput.react",["React","SUIComponent","SUIThreeStateCheckboxInput.react","prop-types"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SUIThreeStateCheckboxInput.react").CHECKBOX_STATES;a=b("SUIThreeStateCheckboxInput.react").defaultProps;a.value;c=babelHelpers.objectWithoutPropertiesLoose(a,["value"]);d=babelHelpers["extends"]({},c,{value:!1});f=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$SUICheckboxInput1=function(a,b){c.props.onChange(a===g.CHECKED,b)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props;a.onChange;var c=a.value;a=babelHelpers.objectWithoutPropertiesLoose(a,["onChange","value"]);return b("React").jsx(b("SUIThreeStateCheckboxInput.react"),babelHelpers["extends"]({},a,{onChange:this.$SUICheckboxInput1,value:c?g.CHECKED:g.UNCHECKED}))};return c}(b("SUIComponent"));f.propTypes=babelHelpers["extends"]({},b("SUIThreeStateCheckboxInput.react").propTypes,{value:b("prop-types").bool});f.defaultProps=d;e.exports=f}),null);
__d("getSUIThreeStateCheckboxInputUniform.fds",["ix","cssVar","FDSPrivateTypeStyles","React","SUIGlyphIcon.react","asset","autoFlipStyleProps"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("FDSPrivateTypeStyles").createTypeStyleGetter;function a(a){a=i(a);return{activeCheckboxBackgroundColor:"#EBEDF0",activeCheckboxBorderColor:"#DADDE1",checkboxBackgroundColor:"#FFFFFF",checkboxBorderColor:"#DADDE1",checkedIcon:b("React").jsx(b("SUIGlyphIcon.react"),{srcDefault:g("495429"),srcDisabled:g("492920"),style:b("autoFlipStyleProps")({left:"0",top:"0"})}),disabledCheckboxBackgroundColor:"#EBEDF0",disabledLabelColor:"#BEC3C9",labelColor:"#1C1E21",partiallyCheckedIcon:b("React").jsx(b("SUIGlyphIcon.react"),{srcDefault:g("495440"),srcDisabled:g("492942"),style:b("autoFlipStyleProps")({left:"0",top:"0"})}),typeStyle:a({color:"#1C1E21",fontSize:"12px"})}}e.exports=a}),null);
__d("SUIThreeStateCheckboxInputUniform.fds",["FDSPrivateThemeAtomsClassic","getSUIThreeStateCheckboxInputUniform.fds"],(function(a,b,c,d,e,f){"use strict";e.exports=b("getSUIThreeStateCheckboxInputUniform.fds")(b("FDSPrivateThemeAtomsClassic"))}),null);
__d("FDSCheckboxInput.maintenance.react",["React","SUICheckboxInput.react","SUIThreeStateCheckboxInputUniform.fds","makeFDSStandardComponent","makeSUIFDSPrivateTheme"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("makeSUIFDSPrivateTheme")("FDSCheckboxInput",{SUIThreeStateCheckboxInput:b("SUIThreeStateCheckboxInputUniform.fds")});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props;return b("React").jsx(b("SUICheckboxInput.react"),{"data-testid":a["data-testid"],disabled:a.isDisabled,display:a.display,id:a.id,label:a.label,margin:a.margin,onChange:a.onChange,style:a.style,theme:g,tooltip:a.tooltip,value:a.value})};return c}(b("React").PureComponent);a.defaultProps={display:"inline",isDisabled:!1,value:!1};e.exports=b("makeFDSStandardComponent")("FDSCheckboxInput",a)}),null);
__d("FBRTCPoorNetworkNotification.react",["ix","cx","fbt","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";a=function(a){return a.shown?b("React").jsx("div",{className:"_7c6h _7c68",children:b("React").jsxs("div",{className:"_7c5p",children:[b("React").jsx(b("Image.react"),{className:"_7c69",src:g("478329")}),b("React").jsxs("span",{className:"_7c6a",children:[i._("Conexi\u00f3n deficiente. Comprueba tu conexi\u00f3n de red o ub\u00edcate en otro lugar para mejorar la calidad de audio."),b("React").jsx("a",{className:"_7c6b",href:"#",onClick:a.onClick,children:i._("Ignorar")})]})]})}):null};e.exports=a}),null);
__d("FBRTCPoorNetworkTooltip.react",["ix","cx","fbt","Image.react","React","RTCCallControlsButton.react","XUIAmbientNUX.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";a=function(a){return a.referenceElement!=null?b("React").jsxs(b("XUIAmbientNUX.react"),{alignment:"center",className:"_7c68",contextRef:function(){return a.referenceElement},noCloseButton:!0,position:"above",shown:a.shown,useDarkMode:!0,width:"auto",children:[b("React").jsx(b("Image.react"),{className:"_7c69",src:g("478327")}),b("React").jsxs("span",{className:"_7c6a",children:[i._("Conexi\u00f3n deficiente. Desactiva el video para mejorar la calidad de audio."),b("React").jsx("a",{className:"layer_close_elem _7c6b",href:"#",onClick:a.onClick,children:i._("Ignorar")})]})]}):null};e.exports=a}),null);
__d("RTCCallNUXReducer",["FBRTCUtils","XBasicFBNuxDismissController","XBasicFBNuxViewController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();switch(c.type){case"DISMISS_NUX":var d=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",c.nuxID).getURI();b("FBRTCUtils").sendServerRequest(d);switch(c.nuxID){case 6265:return a.set("showVideoChatFiltersNUX",!1);case 5609:return a.set("showAddGroupMemberNUX",!1);case 4775:return a.set("showRemoteCameraControlsNUX",!1);case 4774:return a.set("showRemoteScreenContentPopOutNUX",!1);case 4773:return a.set("showRemoteStreamsSliderNUX",!1);case 4776:return a.set("showSettingsNUX",!1);default:return a}default:return a}}function c(a,b){switch(b.type){case"INIT_NUX_STATE":b=b.payload;return a.set("showVideoChatFiltersNUX",b.showVideoChatFiltersNUX).set("showAddGroupMemberNUX",b.showAddGroupMemberNUX).set("showRemoteCameraControlsNUX",b.showRemoteCameraControlsNUX).set("showRemoteScreenContentPopOutNUX",b.showRemoteScreenContentPopOutNUX).set("showRemoteStreamsSliderNUX",b.showRemoteStreamsSliderNUX).set("showSettingsNUX",b.showSettingsNUX);default:return a}}function d(a,c){switch(c.type){case"MARK_NUX_VIEWED":c=b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",c.nuxID).getURI();b("FBRTCUtils").sendServerRequest(c);return a;default:return a}}e.exports={dismissNUX:a,markNUXViewed:d,refreshNUXState:c}}),null);
__d("RTCCallNUXStoreState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={showVideoChatFiltersNUX:!1,showAddGroupMemberNUX:!1,showRemoteCameraControlsNUX:!1,showRemoteScreenContentPopOutNUX:!1,showRemoteStreamsSliderNUX:!1,showSettingsNUX:!1};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("RTCCallNUXStore",["FluxReduceStore","RTCAppDispatcher","RTCCallNUXActions","RTCCallNUXReducer","RTCCallNUXStoreState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("RTCCallNUXReducer").dismissNUX,b("RTCCallNUXReducer").markNUXViewed,b("RTCCallNUXReducer").refreshNUXState];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("RTCAppDispatcher"))||this;b("RTCCallNUXActions").refreshNUXState();return c}var d=c.prototype;d.getInitialState=function(){return new(b("RTCCallNUXStoreState"))()};d.reduce=function(a,b){return g.reduce(function(a,c){return c(a,b)},a)};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("RTCConferenceState",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AWAITING_USER_START:"AWAITING_USER_START",CONNECTED:"CONNECTED",CONNECTING:"CONNECTING",NEW:"NEW",RENEGOTIATING:"RENEGOTIATING",TERMINATED:"TERMINATED",TERMINATING:"TERMINATING"})}),null);
__d("RTCFeedbackOptionsList.react",["cx","FDSCheckboxInput.maintenance.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=a.selectedOptions,d=a.options;return b("React").jsx("div",{className:"_78f-",children:d.keySeq().toArray().map(function(e){return b("React").jsx("div",{children:b("React").jsx(b("FDSCheckboxInput.maintenance.react"),{label:d.get(e),onChange:function(b){var d=[].concat(c);b?d.push(e):d=d.filter(function(a){return a!==e});a.onFeedbackSubmit(d)},value:c.includes(e)})},e)})})};e.exports=a}),null);
__d("RTCollabCallFeedback.react",["cx","fbt","AbstractTextArea.react","FDSButton.react","FDSTabGroup.react","React","RTCFeedbackOptionsList.react","immutable","keyMirror"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("keyMirror")({AUDIO:null,OTHER:null,VIDEO:null}),j={};j[i.AUDIO]=b("immutable").Map({delayed_sound:h._("El sonido estaba atrasado"),echo_sound:h._("Hab\u00eda eco"),breaking_audio:h._("El audio se entrecortaba"),other_could_not_hear_me:h._("Los dem\u00e1s no pod\u00edan escucharme"),could_not_hear_others:h._("No pod\u00eda escuchar a los dem\u00e1s")});j[i.VIDEO]=b("immutable").Map({pixelated_video:h._("Video borroso o pixelado"),no_incoming_video:h._("No recib\u00eda video"),no_outgoing_video:h._("Los dem\u00e1s no pod\u00edan verme"),freezing_video:h._("El video se interrump\u00eda")});var k=[{label:h._("Video"),value:i.VIDEO},{label:h._("Audio"),value:i.AUDIO},{label:h._("Otro"),value:i.OTHER}];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={feedbackMessage:null,selectedAudioOptions:[],selectedVideoOptions:[],selectedTab:i.VIDEO},c.$4=function(a){c.setState({selectedTab:a})},c.$2=function(a){c.setState({selectedAudioOptions:a})},c.$1=function(a){c.setState({selectedVideoOptions:a})},c.$3=function(a){c.setState({feedbackMessage:a.target.value})},c.$5=function(){var a=c.state,b=a.feedbackMessage,d=a.selectedAudioOptions;a=a.selectedVideoOptions;c.props.onFeedbackSubmit({feedbackMessage:b,selectedFeedbackOptions:d.concat(a)})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=b("React").jsx("div",{});switch(this.state.selectedTab){case i.VIDEO:a=b("React").jsx(m,{onFeedbackSelected:this.$1,selectedOptions:this.state.selectedVideoOptions});break;case i.AUDIO:a=b("React").jsx(n,{onFeedbackSelected:this.$2,selectedOptions:this.state.selectedAudioOptions});break;default:a=b("React").jsx(l,{feedbackValue:this.state.feedbackMessage,onFeedbackMessageChange:this.$3})}return b("React").jsxs("div",{className:"_78ew",children:[b("React").jsx("div",{className:"_78ex",children:h._("\u00bfCu\u00e1l fue el problema?")}),b("React").jsx("div",{className:"_78ey",children:h._("Dinos c\u00f3mo podemos mejorar")}),b("React").jsxs("div",{className:"_78f2",children:[b("React").jsxs("div",{className:"_78f3",children:[b("React").jsx(b("FDSTabGroup.react"),{onChange:this.$4,tabs:k,value:this.state.selectedTab}),b("React").jsx("div",{className:"_78f4"}),a]}),b("React").jsx("div",{className:"_78f5",children:b("React").jsx(b("FDSButton.react"),{label:h._("Enviar comentarios"),onClick:this.$5,use:"flatWhite",width:360})})]})]})};return c}(b("React").PureComponent);var l=function(a){return b("React").jsx(b("AbstractTextArea.react"),{className:"_78f6",onChange:a.onFeedbackMessageChange,placeholder:h._("Describe el problema..."),value:a.feedbackValue})},m=function(a){return b("React").jsx(b("RTCFeedbackOptionsList.react"),{onFeedbackSubmit:a.onFeedbackSelected,options:j[i.VIDEO],selectedOptions:a.selectedOptions})},n=function(a){return b("React").jsx(b("RTCFeedbackOptionsList.react"),{onFeedbackSubmit:a.onFeedbackSelected,options:j[i.AUDIO],selectedOptions:a.selectedOptions})};e.exports=a}),null);
__d("RTCEndOfCallSurvey.react",["cx","fbt","Image.react","React","RTCCallActions","RTCollabCallFeedback.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=2500;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={feedbackComplete:!1,promptFeedback:!1},d.$4=function(){d.setState({promptFeedback:!0})},d.$3=function(){b("RTCCallActions").submitRating(5),d.setState({feedbackComplete:!0}),d.$5()},d.$2=function(a){a.feedbackMessage!=null&&b("RTCCallActions").submitFeedback(a.feedbackMessage),a.selectedFeedbackOptions.length>0&&b("RTCCallActions").submitFeedbackOptions(a.selectedFeedbackOptions),b("RTCCallActions").submitRating(1),d.setState({feedbackComplete:!0}),d.$5()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){if(this.state.feedbackComplete)return b("React").jsx(n,{});else if(this.state.promptFeedback)return b("React").jsx(b("RTCollabCallFeedback.react"),{onFeedbackSubmit:this.$2});return b("React").jsxs("div",{className:"_78ew",children:[b("React").jsx("div",{className:"_78ex",children:h._("\u00bfC\u00f3mo fue la calidad de la llamada?")}),b("React").jsx("div",{className:"_78ey",children:h._("Califica la calidad de la videollamada")}),b("React").jsxs("div",{className:"_78ez",children:[b("React").jsxs(j,{onClick:this.$3,children:[b("React").jsx(k,{}),h._("Buena")]}),b("React").jsxs(j,{onClick:this.$4,children:[b("React").jsx(l,{}),h._("Mala")]})]})]})};d.$5=function(){var a=this;this.$1=window.setTimeout(function(){return a.props.onDone()},i)};d.componentWillUnmount=function(){this.$1!=null&&window.clearTimeout(this.$1)};return c}(b("React").PureComponent);var j=function(a){return b("React").jsx("div",{className:"_78e-",onClick:a.onClick,role:"menuitem",tabIndex:"0",children:a.children})},k=function(){return b("React").jsx("div",{className:"_78e_"})},l=function(){return b("React").jsx("div",{className:"_78f0"})},m=function(){return b("React").jsx(b("Image.react"),{src:"/images/chat/webrtc/feedback_thank_you.png",style:{marginBottom:20}})},n=function(){return b("React").jsxs("div",{className:"_78ew",children:[b("React").jsx(m,{}),b("React").jsx("div",{className:"_78ex",children:h._("\u00a1Gracias!")}),b("React").jsx("div",{className:"_78ey",children:h._("Registramos tus comentarios. Nos pondremos en contacto contigo si tenemos alguna pregunta.")})]})};e.exports=a}),null);
__d("RTCP2PIncallView.react",["cx","fbt","FBRTCConstants","FluxContainer","React","RTCAppDispatcher","RTCCallNUXActions","RTCCallNUXStore","RTCCallStore","RTCIncallAudio.react","RTCIncallVideo.react","ShimButton.react","XUIAmbientNUX.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("FBRTCConstants").SignalingProtocol;a=b("React").PureComponent;function j(a){var c=a.audioSinkID;a=a.streams;return a.toArray().map(function(a,d){return b("React").jsx(b("RTCIncallAudio.react"),{audioSinkID:c,mediaStream:a},d)})}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("RTCCallNUXStore")]};c.calculateState=function(a){a===void 0&&(a={});return babelHelpers["extends"]({},a,{showNux:b("RTCCallNUXStore").getState().showRemoteStreamsSliderNUX})};function c(d){__p&&__p();var e;e=a.call(this,d)||this;e.state=c.calculateState({ratio:.5,resizing:!1});e.$11=function(){document.addEventListener("keydown",e.$14)};e.$9=function(){document.removeEventListener("keydown",e.$14)};e.$14=function(a){a=a.key;var b=e.state.ratio;switch(a){case"ArrowLeft":e.$15(b-.025);break;case"ArrowRight":e.$15(b+.025);break;case"Escape":e.$10();break}};e.$10=function(){e.setState({ratio:.5})};e.$12=function(a){__p&&__p();var b=a.clientX;if(!e.$1)return;e.$3=e.$1.offsetLeft;e.$4=e.$1.offsetWidth;e.setState({resizing:!0},function(){return e.$16({clientX:b})});document.addEventListener("mousemove",e.$16);document.addEventListener("mouseup",e.$17);e.state.showNux&&e.$18()};e.$16=function(a){a=a.clientX;if(!e.state.resizing)return;e.$15((a-e.$3)/e.$4)};e.$17=function(){e.$19(),e.setState({resizing:!1})};e.$13=function(a){e.$2=a&&a.getDOMNode?a.getDOMNode():a};b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallNUXStore")]);return e}var d=c.prototype;d.render=function(){__p&&__p();var a=this,c=this.props.user;if(!c)return null;var d=c.streams,e=c.screenStreams;if(this.props.isAudioCall)return b("React").jsxs("section",{className:"_1b9s"+(this.state.resizing?" resizing":""),ref:function(b){return a.$1=b},children:[this.props.children,b("React").jsxs("div",{className:"_1b9t",children:[b("React").jsx(j,{audioSinkID:this.props.audioSinkID,streams:d}),b("React").jsx(j,{audioSinkID:this.props.audioSinkID,streams:e})]})]});var f=!(d.isEmpty()||e.isEmpty()||!this.props.renderScreenStreams);return b("React").jsxs("section",{className:"_1b9s"+(this.state.resizing?" resizing":""),ref:function(b){return a.$1=b},children:[this.props.children,this.$5(e,f),this.$6(f),this.$7(f),this.$8(d,f,c.isVideoMuted())]})};d.$6=function(a){return!a?null:b("React").jsx(b("ShimButton.react"),{className:"_1b9u",onBlur:this.$9,onDoubleClick:this.$10,onFocus:this.$11,onMouseDown:this.$12,ref:this.$13,role:"button",tabIndex:0})};d.$15=function(a){this.setState({ratio:Math.min(.85,Math.max(.15,a))})};d.$19=function(){document.removeEventListener("mousemove",this.$16),document.removeEventListener("mouseup",this.$17)};d.$18=function(){b("RTCCallNUXActions").dismissNUX(4773)};d.$7=function(a){var c=this;if(!this.state.showNux||!a||!this.$1)return null;a=(this.$1.clientHeight-32)/2;var d=h._("Arrastra las flechas para regular el tama\u00f1o del video y el contenido compartido");b("RTCCallNUXActions").markNUXViewed(4773);return b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:function(){return c.$2},customwidth:250,offsetY:a,onCloseButtonClick:this.$18,position:"right",shown:this.state.showNux,width:"custom",children:d})};d.$5=function(a,c){if(a.isEmpty()||!this.props.renderScreenStreams)return null;var d=this.props.audioSinkID;c=c?{flexGrow:this.state.ratio}:null;return b("React").jsx("div",{className:"_1b9t",style:c,children:a.toArray().map(function(a,c){return b("React").jsx(b("RTCIncallVideo.react"),{audioSinkID:d,mediaStream:a},c)})})};d.$20=function(a){var b=this.props.user;return!b?a.getVideoTracks().length>0:!b.areAllTracksMuted(a.getVideoTracks())};d.$8=function(a,c,d){__p&&__p();var e=this;if(a.isEmpty())return null;var f=this.props.audioSinkID;c=c?{flexGrow:1-this.state.ratio}:null;var g=b("RTCCallStore").getConnection(i.P2P);if(!g)return null;var h=b("immutable").Set(g.getRemoteStreams());return b("React").jsx("div",{className:"_1b9t","data-testid":"incallVideoContainer",style:c,children:a.filter(function(a){return h.has(a)}).toArray().map(function(a,c){return e.$20(a)?b("React").jsx(b("RTCIncallVideo.react"),{audioSinkID:f,mediaStream:a,muted:d},c):b("React").jsx(b("RTCIncallAudio.react"),{audioSinkID:f,mediaStream:a},c)})})};d.componentWillUnmount=function(){this.$19(),document.removeEventListener("keydown",this.$14)};d.componentDidUpdate=function(a){this.props.user!==a.user&&this.$10()};return c}(a);c.defaultProps={renderScreenStreams:!0};e.exports=b("FluxContainer").create(c)}),null);
__d("RTCP2PStartCallButton.react",["cx","fbt","FBRTCLogger","React","RTCP2PCallStore","RTCTextButton.react","RTWebUserActionLogger"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("RTWebUserActionLogger").logClick({callType:"p2p",component:"start_call_button",conferenceState:d.props.conferenceState,mediaType:b("RTWebUserActionLogger").getMediaType(d.props.isAudio),surface:"call_container"}),b("RTWebUserActionLogger").logStopTimer({timerName:"WaitForUserInputTimer",checkpointName:"CallStart_WaitForUserInput"}),b("RTCP2PCallStore").getState().protocolHandler.startCall(b("FBRTCLogger").Trigger.POPUP_CALL_START_BUTTON),b("RTWebUserActionLogger").logStopTimer({timerName:"InCallStartFlowTimer",checkpointName:"CallStart_InCallStartFlowTimer"})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({callType:"p2p",component:"start_call_button",conferenceState:this.props.conferenceState,mediaType:b("RTWebUserActionLogger").getMediaType(this.props.isAudio),surface:"call_container"})};d.render=function(){return b("React").jsx(b("RTCTextButton.react"),{className:"green _2fst","data-testid":"RTCAppViewStartCallButton",label:h._("Iniciar llamada"),onClick:this.$1})};return c}(b("React").Component);e.exports=a}),null);
__d("RTCCallLogActions",["RTCAppDispatcher"],(function(a,b,c,d,e,f){"use strict";a={logEvent:function(a,c){b("RTCAppDispatcher").dispatch({type:"GENERIC_COLLAB_LOG",event:a,eventDetails:c})}};e.exports=a}),null);
__d("RTCPreCallAudioOutputPreview.react",["cx","FBRTCUtils","MercurySoundsConfig","React","ReactDOM","RTCSVGIcon.react","RTCUserMediaConstraints","RTCUtils","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isPlaying:!1,mediaStream:null},c.$5=function(){c.setState(function(a){if(c.$1!=null){var b=!a.isPlaying;b?c.$1.play():c.$1.pause();return{isPlaying:b}}return a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("promiseDone")(this.$2(this.props.audioOutputSinkID).then(function(b){return a.setState({mediaStream:b})}));this.$3(this.state.mediaStream);this.$4()};d.componentDidUpdate=function(a,c){var d=this;a.audioOutputSinkID!==this.props.audioOutputSinkID&&(b("promiseDone")(this.$2(this.props.audioOutputSinkID).then(function(a){c.mediaStream!=null&&b("RTCUtils").stopMediaStream(c.mediaStream),d.setState({mediaStream:a})})),this.$4())};d.render=function(){var a=this;return b("React").jsxs("div",{className:"_426m",onClick:this.$5,role:"main",children:[b("React").jsxs("audio",{autoPlay:!1,loop:!0,ref:function(b){return a.$1=b},children:[b("React").jsx("source",{src:b("MercurySoundsConfig").settings_preview_sound_mp3_url,type:"audio/mpeg"}),b("React").jsx("source",{src:b("MercurySoundsConfig").settings_preview_sound_ogg_url,type:"audio/ogg"})]}),this.state.isPlaying?b("React").jsx(i,{}):b("React").jsx(h,{})]})};d.$2=function(a){return b("RTCUtils").getUserMedia({audio:b("RTCUserMediaConstraints").audio(a)})};d.$3=function(a){this.$1&&a&&b("FBRTCUtils").attachMediaStream(this.$1,a)};d.$4=function(){if(!b("FBRTCUtils").supportsSetSink())return;var a=b("ReactDOM").findDOMNode(this.$1);this.props.audioOutputSinkID&&a!=null&&a.setSinkId(this.props.audioOutputSinkID)};return c}(b("React").Component);var h=function(){return b("React").jsx(b("RTCSVGIcon.react"),{className:"_6p8c",children:b("React").jsx("svg",{height:"61",width:"61",children:b("React").jsx("path",{d:"M30.302 0C13.566 0 0 13.568 0 30.302c0 16.736 13.568 30.303 30.302 30.303 16.738 0 30.303-13.568 30.303-30.302C60.605 13.566 47.04 0 30.303 0zm11.284 31.973L24.097 42.07a1.733 1.733 0 0 1-1.727 0 1.73 1.73 0 0 1-.862-1.497V20.381c0-.617.33-1.186.862-1.496a1.733 1.733 0 0 1 1.727 0l17.486 10.097c.535.307.865.879.862 1.496a1.72 1.72 0 0 1-.86 1.494z",fillRule:"evenodd"})})})},i=function(){return b("React").jsx(b("RTCSVGIcon.react"),{className:"_6p8c",children:b("React").jsx("svg",{height:"60",viewBox:"0 0 60 60",width:"60",children:b("React").jsx("path",{d:"M74,31 C90.568,31 104,44.432 104,61 C104,77.568 90.568,91 74,91 C57.432,91 44,77.568 44,61 C44,44.432 57.432,31 74,31 Z M66.7142857,50.7142857 C65.0574315,50.7142857 63.7142857,52.0574315 63.7142857,53.7142857 L63.7142857,69.1428571 C63.7142857,70.7997114 65.0574315,72.1428571 66.7142857,72.1428571 L82.1428571,72.1428571 C83.7997114,72.1428571 85.1428571,70.7997114 85.1428571,69.1428571 L85.1428571,53.7142857 C85.1428571,52.0574315 83.7997114,50.7142857 82.1428571,50.7142857 L66.7142857,50.7142857 Z",fillRule:"evenodd",transform:"translate(-44 -31)"})})})};e.exports=a}),null);
__d("SUIMessengerRTCThemeConstants",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";a={DARK_MAPPING:{buttonDefault:"#4a4a4a",buttonHover:"#373948",buttonActive:"#4a4a4a",buttonDisabled:"#4a4a4a",buttonBorder:"#828282",buttonBorderDisabled:"#828282",buttonText:"#ffffff",buttonTextDisabled:"#828282",buttonPrimaryDefault:"#6fb3fd",buttonPrimaryHover:"#3b95fd",buttonPrimaryActive:"#016ffc",buttonPrimaryDisabled:"#479eba",buttonPrimaryBorder:"#6fb3fd",buttonPrimaryText:"#ffffff",buttonPrimaryTextDisabled:"#f5f7f9",dropdownShadowMedium:"0 4px 8px 0 rgba(0,0,0,0.15)",glyphPrimary:"#d9e0e7",glyphSecondary:"#a0a6b7",rowBackgroundDefault:"#FFFFFF",rowBackgroundHover:"#0084ff",rowBackgroundActive:"#0084ff",rowBackgroundDisabled:"#373948",highlightedBackgroundColor:"#EBEDF0",rowBorder:"#FFFFFF",rowTextDefault:"#000000",rowTextHover:"#000000",rowTextActive:"#000000",rowTextSelected:"#f9fafb",rowTextDisabled:"#6e7285",textPrimary:"#cfd6e0",textSecondary:"#a0a6b7",textDisabled:"#6e7285",textInteractive:"#6fb3fd",textInverted:"#ffffff",textLabel:"#a0a6b7",textHighlightBackground:"#ffd34c",textDark:"#272834",washAccent:"#6fb3fd",washBorder:"#15151d",washEmpty:"#FFFFFF",washPrimary:"#20212c",washSecondary:"#272834",washTertiary:"#2f303e",washDark:"#15151d"},LIGHT_MAPPING:{buttonDefault:"#FFFFFF",buttonHover:"#eaeff2",buttonActive:"#d9e0e7",buttonDisabled:"#f5f7f9",buttonBorder:"#828282",buttonBorderDisabled:"#d9e0e7",buttonText:"#272834",buttonTextDisabled:"#a0a6b7",buttonPrimaryDefault:"#6fb3fd",buttonPrimaryHover:"#3b95fd",buttonPrimaryActive:"#016ffc",buttonPrimaryDisabled:"#c5e1fe",buttonPrimaryBorder:"#6fb3fd",buttonPrimaryText:"#ffffff",buttonPrimaryTextDisabled:"#f5f7f9",dropdownShadowMedium:"0 4px 8px 0 rgba(0,0,0,0.15)",glyphPrimary:"#272834",glyphSecondary:"#6e7285",rowBackgroundDefault:"#FFFFFF",rowBackgroundHover:"#0084ff",rowBackgroundActive:"#0084ff",rowBackgroundDisabled:"#373948",highlightedBackgroundColor:"#EBEDF0",rowBorder:"#FFFFFF",rowTextDefault:"#000000",rowTextHover:"#000000",rowTextActive:"#000000",rowTextSelected:"#f9fafb",rowTextDisabled:"#6e7285",textPrimary:"#272834",textSecondary:"#6e7285",textDisabled:"#c1c8d6",textInteractive:"#6fb3fd",textInverted:"#ffffff",textLabel:"#272834",textHighlightBackground:"#ffd34c",textDark:"#272834",washAccent:"#6fb3fd",washBorder:"#d9e0e7",washEmpty:"#ffffff",washPrimary:"#f9fafb",washSecondary:"#f5f7f9",washTertiary:"#f1f4f6",washDark:"#272834"}};e.exports=a}),null);
__d("messengerRTCCreateSUITheme",["ix","cssVar","Image.react","React","SUIBusinessThemeComponents","SUITheme","SUITypeStyle","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=function(a){return new(b("SUITypeStyle"))(babelHelpers["extends"]({},a,{letterSpacing:void 0,MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased"}))};function a(a,c){var d=i({color:a.textPrimary,fontFamily:"Helvetica Neue, Segoe UI, Helvetica, Arial, sans-serif",fontSize:"12px",fontWeight:"bold"}),e=b("React").jsx(b("Image.react"),{src:g("376185")}),f=b("React").jsx(b("Image.react"),{src:g("382797")});f=babelHelpers["extends"]({},b("SUIBusinessThemeComponents"),{SUIButton:{height:{normal:32,"short":28,tall:36},padding:{normal:{button:"12px",icon:"6px",onlyIcon:"8px"},"short":{button:"12px",icon:"6px",onlyIcon:"8px"},tall:{button:"12px",icon:"6px",onlyIcon:"8px"}},typeStyle:d,use:{confirm:{active:{background:a.buttonPrimaryActive,borderColor:a.buttonPrimaryActive,color:a.buttonPrimaryText},disabled:{background:a.buttonPrimaryDisabled,borderColor:a.buttonPrimaryDisabled,color:a.buttonPrimaryTextDisabled},hover:{background:a.buttonPrimaryHover,borderColor:a.buttonPrimaryHover,color:a.buttonPrimaryText},normal:{background:a.buttonPrimaryDefault,borderColor:a.buttonPrimaryDefault,color:a.buttonPrimaryText}},"default":{active:{background:a.buttonActive,borderColor:a.buttonBorder,color:a.buttonText},disabled:{background:a.buttonDisabled,borderColor:a.buttonBorderDisabled,color:a.buttonTextDisabled},hover:{background:a.buttonHover,borderColor:a.buttonBorder,color:a.buttonText},normal:{background:a.buttonDefault,borderColor:a.buttonBorder,color:a.buttonText}},special:{active:{background:a.buttonActive,borderColor:a.buttonBorder,color:a.buttonText},disabled:{background:a.buttonDisabled,borderColor:a.buttonBorderDisabled,color:a.buttonTextDisabled},hover:{background:a.buttonHover,borderColor:a.buttonBorder,color:a.buttonText},normal:{background:a.buttonDefault,borderColor:a.buttonBorder,color:a.buttonText}},flat:{active:{background:"transparent",borderColor:"transparent",color:a.buttonText},disabled:{background:"transparent",borderColor:"transparent",color:a.buttonTextDisabled},hover:{background:"transparent",borderColor:"transparent",color:a.buttonText},normal:{background:"transparent",borderColor:"transparent",color:a.buttonText}},flatWhite:{active:{background:"transparent",borderColor:"transparent",color:a.buttonText},disabled:{background:"transparent",borderColor:"transparent",color:a.buttonTextDisabled},hover:{background:"transparent",borderColor:"transparent",color:a.buttonText},normal:{background:"transparent",borderColor:"transparent",color:a.buttonText}}}},SUISelector:{backgroundColor:a.washEmpty,borderColor:a.buttonBorder,boxShadow:a.dropdownShadowMedium},SUISelectorButton:{use:{"default":{chevron:f}},padding:"8px",paddingLeft:"8px",paddingRight:"4px"},SUISelectorOption:{activeBackgroundColor:a.rowBackgroundActive,activeColor:a.rowTextActive,color:a.rowTextDefault,descriptionColor:a.textSecondary,descriptionSelectedColor:a.rowTextDefault,disabledBackgroundColor:a.rowBackgroundDisabled,disabledColor:a.rowTextDisabled,highlightedBackgroundColor:a.highlightedBackgroundColor,highlightedColor:a.rowTextDefault,padding:{bottom:"8px",left:"32px",right:"20px",top:"8px"},paddingWhenNoValue:{bottom:"8px",left:"16px",right:"20px",top:"8px"},selectedBackgroundColor:a.rowBackgroundHover,selectedColor:a.rowTextSelected,selectedIcon:e,selectedTypeStyle:d,selectedIconMarginRight:"8px",selectedIconMarginLeft:"-4px",typeStyle:d}});return new(b("SUITheme"))({id:c,components:f})}e.exports=a}),null);
__d("SUIMessengerRTCLightTheme",["SUIMessengerRTCThemeConstants","messengerRTCCreateSUITheme"],(function(a,b,c,d,e,f){"use strict";a=b("SUIMessengerRTCThemeConstants").LIGHT_MAPPING;e.exports=b("messengerRTCCreateSUITheme")(a,"messenger-rtc-light")}),null);
__d("SUIThemeContainer.react",["React","SUITheme"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").PureComponent;d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getChildContext=function(){return{theme:this.props.theme}};c.render=function(){return this.props.children};return b}(c);d.childContextTypes={theme:a.instanceOf(b("SUITheme"))};d.propTypes={theme:a.instanceOf(b("SUITheme")).isRequired,children:a.node};e.exports=d}),null);
__d("RTCSettingsMediaDeviceSelector.react",["fbt","React","SUIMessengerRTCLightTheme","SUISelector.react","SUISelectorOption.react","SUIThemeContainer.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="---";a=function(a){var c=a.devices,d=a.disabled===!0?null:a.value||(c.length>0?c[0].deviceId:null);return b("React").jsx(b("SUIThemeContainer.react"),{theme:a.theme?a.theme:b("SUIMessengerRTCLightTheme"),children:b("React").jsx(b("SUISelector.react"),{buttonBorderedSides:a.buttonBorderedSides,buttonRoundedCorners:a.buttonRoundedCorners,disabled:c.length===0||a.disabled,onChange:a.onChange,placeholder:g._("Selecciona un dispositivo"),value:d,width:a.width,children:j(c,a.disabled,a.selectorType)})})};var i={videoinput:"Camera",audioinput:"Microphone",audiooutput:"Audio Output"};function j(a,c,d){__p&&__p();if(c===!0&&d!=null)return b("React").jsx(b("SUISelectorOption.react"),{value:null,children:g._({"Camera":"C\u00e1mara desactivada","Microphone":"Micr\u00f3fono desactivado","Audio Output":"Salida de audio desactivada"},[g._enum(i[d],{Camera:"Camera",Microphone:"Microphone","Audio Output":"Audio Output"})])});if(a.length===0){c=d!=null?g._({"camera":"No se encontr\u00f3 ninguna c\u00e1mara","microphone":"No se encontr\u00f3 ning\u00fan micr\u00f3fono","audio output":"No se encontr\u00f3 ninguna salida de audio"},[g._enum(i[d].toLowerCase(),{camera:"camera",microphone:"microphone","audio output":"audio output"})]):h;return b("React").jsx(b("SUISelectorOption.react"),{value:null,children:c})}var e=0;return a.map(function(a){var c=a.label?a.label:g._({"Camera":"C\u00e1mara{number}","Microphone":"Micr\u00f3fono{number}","Audio Output":"Salida de audio{number}"},[g._enum(i[a.kind],{Camera:"Camera",Microphone:"Microphone","Audio Output":"Audio Output"}),g._param("number",++e)]);return b("React").jsx(b("SUISelectorOption.react"),{value:a.deviceId,children:c},a.deviceId)})}e.exports=a}),null);
__d("RTCUserSettingsActions",["RTCAppDispatcher"],(function(a,b,c,d,e,f){"use strict";a={edit:function(){b("RTCAppDispatcher").dispatch({type:"USER_SETTINGS_EDIT"})},cancel:function(){b("RTCAppDispatcher").dispatch({type:"USER_SETTINGS_CANCEL_EDITING"})},save:function(a){b("RTCAppDispatcher").dispatch(babelHelpers["extends"]({type:"USER_SETTINGS_SAVE"},a))},setAudioInput:function(a){b("RTCAppDispatcher").dispatch({type:"USER_SETTINGS_SET_AUDIO_INPUT",audioInput:a})},setAudioOutput:function(a){b("RTCAppDispatcher").dispatch({type:"USER_SETTINGS_SET_AUDIO_OUTPUT",audioOutput:a})},setVideoInput:function(a){b("RTCAppDispatcher").dispatch({type:"USER_SETTINGS_SET_VIDEO_INPUT",videoInput:a})}};e.exports=a}),null);
__d("SUIMessengerRTCDarkTheme",["SUIMessengerRTCThemeConstants","messengerRTCCreateSUITheme"],(function(a,b,c,d,e,f){"use strict";a=b("SUIMessengerRTCThemeConstants").DARK_MAPPING;e.exports=b("messengerRTCCreateSUITheme")(a,"messenger-rtc-dark")}),null);
__d("RTCPreCallAudioOutputContainer.react",["cx","FBRTCUtils","FluxContainer","React","RTCMediaDevicesStore","RTCPreCallAudioOutputPreview.react","RTCSettingsMediaDeviceSelector.react","RTCUserSettingsActions","RTCUserSettingsStore","RTCUtils","SUIMessengerRTCDarkTheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=b("FBRTCUtils").supportsSetSink()?a.audioOutputDevices:[];return b("React").jsxs("div",{className:"_142c",children:[b("React").jsx(b("RTCPreCallAudioOutputPreview.react"),{audioOutputSinkID:a.audioOutput}),b("React").jsx(b("RTCSettingsMediaDeviceSelector.react"),{buttonBorderedSides:["top"],buttonRoundedCorners:["bottomLeft","bottomRight"],devices:c,disabled:!b("FBRTCUtils").supportsSetSink(),onChange:h,selectorType:"audiooutput",theme:b("SUIMessengerRTCDarkTheme"),value:a.audioOutput,width:148})]})};var h=function(a){b("RTCUserSettingsActions").setAudioOutput(a)};c=function(){return{audioOutput:b("RTCUserSettingsStore").getState().audioOutput,audioOutputDevices:b("RTCUtils").filterDevicesByKind(b("RTCMediaDevicesStore").getState(),"audiooutput")}};e.exports=b("FluxContainer").createFunctional(a,function(){return[b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")]},c)}),null);
__d("RTCPreCallUnvailableDeviceText.react",["React","SUIMessengerRTCDarkTheme","SUIText.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){return b("React").jsxs("div",{className:a.className,children:[b("React").jsx(b("SUIText.react"),{color:"white",size:"header4",theme:b("SUIMessengerRTCDarkTheme"),weight:"bold",children:a.primaryText}),b("React").jsx(b("SUIText.react"),{color:"primary",palette:"dark",size:"header4",style:{marginLeft:"16px",marginTop:"8px"},textAlign:"center",theme:b("SUIMessengerRTCDarkTheme"),children:a.secondaryText})]})};e.exports=a}),null);
__d("RTCPreCallVideoPreview.react",["cx","fbt","FBRTCVideo.react","React","RTCP2PProtocolHandler","RTCPreCallUnvailableDeviceText.react","RTCUICameraIcon.react","RTCUserMediaConstraints","RTCUtils","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={mediaStream:null},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this,c=this.props.videoInput;c!=null&&b("promiseDone")(this.$1(c).then(function(b){return a.setState({mediaStream:b})}))};d.componentDidUpdate=function(a,c){var d=this;a.videoInput!==this.props.videoInput&&b("promiseDone")(this.$1(this.props.videoInput).then(function(a){c.mediaStream&&b("RTCUtils").stopMediaStream(c.mediaStream),d.setState({mediaStream:a})}))};d.componentWillUnmount=function(){this.state.mediaStream!=null&&b("RTCUtils").stopMediaStream(this.state.mediaStream)};d.render=function(){return this.props.isVideoMuted?b("React").jsx(i,{children:b("React").jsx(j,{})}):b("React").jsx(i,{children:this.props.videoInput!=null?b("React").jsx("div",{children:b("React").jsx(b("FBRTCVideo.react"),{className:"_4fod",mediaStream:this.state.mediaStream,muted:!0})}):b("React").jsx(k,{})})};d.$1=function(a){return b("RTCUtils").getUserMediaWithFallbackToEmptyVideoConstraints({video:b("RTCUserMediaConstraints").video(b("RTCP2PProtocolHandler").getDefaultVideoQuality(),a)})};return c}(b("React").Component);var i=function(a){return b("React").jsx("div",babelHelpers["extends"]({},a,{className:"_68wu"}))},j=function(){return b("React").jsx("div",{className:"_6i3z",children:b("React").jsx(b("RTCUICameraIcon.react"),{className:"_6plt",strikeThrough:!0})})},k=function(){return b("React").jsx(b("RTCPreCallUnvailableDeviceText.react"),{className:"_6cky",primaryText:h._("No se pudo encontrar la c\u00e1mara"),secondaryText:h._("Conecta otra c\u00e1mara o usa Work Chat en un dispositivo m\u00f3vil")})};e.exports=a}),null);
__d("RTCPreCallCameraContainer.react",["cx","FluxContainer","React","RTCAppDispatcher","RTCCallStore","RTCMediaDevicesStore","RTCPreCallVideoPreview.react","RTCSettingsMediaDeviceSelector.react","RTCUserSettingsActions","RTCUserSettingsStore","RTCUtils","SUIMessengerRTCDarkTheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=function(a){b("RTCUserSettingsActions").setVideoInput(a),d.props.onMediaDevicesChange&&d.props.onMediaDevicesChange({videoInput:a})};b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")]);return d}c.getStores=function(){return[b("RTCCallStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")]};c.calculateState=function(){return{isVideoMuted:b("RTCCallStore").getState().localUser.isVideoMuted(),videoDevices:b("RTCUtils").filterDevicesByKind(b("RTCMediaDevicesStore").getState(),"videoinput"),videoInput:b("RTCUserSettingsStore").getState().videoInput}};var d=c.prototype;d.render=function(){var a=this.state,c=a.videoDevices;a=a.videoInput;a=a;a==null&&c.length>0&&(a=c[0].deviceId);return b("React").jsxs("div",{className:"_101o",children:[b("React").jsx(b("RTCPreCallVideoPreview.react"),{isVideoMuted:this.state.isVideoMuted,videoInput:a}),b("React").jsx(b("RTCSettingsMediaDeviceSelector.react"),{buttonBorderedSides:["top"],buttonRoundedCorners:["bottomLeft","bottomRight"],devices:c,disabled:this.state.isVideoMuted,onChange:this.$1,selectorType:"videoinput",theme:b("SUIMessengerRTCDarkTheme"),value:a,width:306})]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("RTCSettingsAudioInputPreview.react",["cx","fbt","AudioContextSingleton","React","cancelAnimationFrame","joinClasses","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PureComponent;var i={fftSize:32,minDecibels:-90,maxDecibels:-10,smoothingTimeConstant:1},j=Math.log2(128+1);c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={noAudioTrack:!1};d.$2=b("AudioContextSingleton").get();d.$3=d.$2.createGain();d.$3.gain.value=c.gain;d.$4=d.$2.createAnalyser();Object.assign(d.$4,i);return d}var d=c.prototype;d.$7=function(a){__p&&__p();var c=this;this.$8();if(!(a&&this.$1))return;if(a.getAudioTracks().length<1){this.setState({noAudioTrack:!0});return}var d=this.$1.getContext("2d");if(!d)return;this.$5&&this.$5.disconnect();this.$5=this.$2.createMediaStreamSource(a);this.$5.connect(this.$3);this.$3.connect(this.$4);a=this.$4.frequencyBinCount;var e=new Uint8Array(a);a=this.props;var f=a.width,g=a.height,h;a=function a(){c.$4.getByteTimeDomainData(e);var i=k(e,f,g,h);h=i;d.clearRect(0,0,f,g);d.fillStyle=c.props.fillStyle;d.fill(m(i,f,g));c.$6=b("requestAnimationFrame")(a)};this.$6=b("requestAnimationFrame")(a)};d.$8=function(){b("cancelAnimationFrame")(this.$6)};d.render=function(){var a=this,c=this.props,d=c.className,e=c.gain,f=c.height,g=c.width;c=babelHelpers.objectWithoutPropertiesLoose(c,["className","gain","height","width"]);var h=this.state.noAudioTrack;this.$3.gain.value=e;return b("React").jsxs("div",babelHelpers["extends"]({className:b("joinClasses")("_brl"+(h?" noAudioTrack":""),d)},c,{children:[h?b("React").jsx("span",{children:this.props.noMicMessage}):null,b("React").jsx("canvas",babelHelpers["extends"]({ref:function(b){return a.$1=b}},{width:g,height:f}))]}))};d.componentDidUpdate=function(a){var b=this.props.mediaStream;b!==a.mediaStream&&(this.setState({noAudioTrack:!1}),this.$7(b))};d.componentDidMount=function(){this.$7(this.props.mediaStream)};d.componentWillUnmount=function(){this.$8(),this.$5&&this.$5.disconnect(),this.$3&&this.$3.disconnect()};return c}(a);c.defaultProps={fillStyle:"rgba(255, 255, 255, .5)",gain:3.5,height:26,noMicMessage:h._("No hay micr\u00f3fono"),width:106};function k(a,b,c,d){return[128].concat(l(a),[128]).map(function(a,e,f){a=c*(Math.log2(Math.abs(a)+1)/j);return{x:e*b/(f.length-1),y:d?Math.min(a,c-(c-d[e].y)*.95):a}})}function l(a){var b=[];for(var c=0;c*2<a.length;c++)b[c]=Math.min(a[c*2],a[c*2+1]||0);return b}function m(a,b,c){__p&&__p();var d=new Path2D();d.moveTo(0,c);a.forEach(function(b,c,a){switch(c){case 0:d.lineTo(b.x,b.y);break;case 1:break;case a.length-1:d.bezierCurveTo.apply(d,n(b,a[c-1],b));d.lineTo(b.x,b.y);break;case 2:d.lineTo((5*a[c-2].x+a[c-1].x)/6,(5*a[c-2].y+a[c-1].y)/6);default:d.bezierCurveTo.apply(d,n(b,a[c-2],a[c-1]))}});d.lineTo(b,c);d.closePath();return d}function n(a,b,c){return[(2*b.x+c.x)/3,(2*b.y+c.y)/3,(b.x+2*c.x)/3,(b.y+2*c.y)/3,(b.x+4*c.x+a.x)/6,(b.y+4*c.y+a.y)/6]}e.exports=c}),null);
__d("RTCPreCallMicPreview.react",["cx","React","RTCSettingsAudioInputPreview.react","RTCSVGIcon.react","RTCUIMicrophoneIcon.react","RTCUserMediaConstraints","RTCUtils","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={mediaStream:null},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("promiseDone")(this.$1(this.props.audioInput).then(function(b){return a.setState({mediaStream:b})}))};d.componentDidUpdate=function(a,c){var d=this;a.audioInput!==this.props.audioInput&&b("promiseDone")(this.$1(this.props.audioInput).then(function(a){c.mediaStream&&b("RTCUtils").stopMediaStream(c.mediaStream),d.setState({mediaStream:a})}))};d.componentWillUnmount=function(){this.state.mediaStream!=null&&b("RTCUtils").stopMediaStream(this.state.mediaStream)};d.render=function(){var a=this.props.isAudioMuted;return a?b("React").jsx("div",{className:"_2848",children:b("React").jsx(h,{})}):b("React").jsxs("div",{className:"_2848",children:[b("React").jsx(i,{}),b("React").jsx(b("RTCSettingsAudioInputPreview.react"),{className:"_2-0x",gain:6,mediaStream:this.state.mediaStream})]})};d.$1=function(a){return b("RTCUtils").getUserMedia({audio:b("RTCUserMediaConstraints").audio(a)})};return c}(b("React").Component);var h=function(){return b("React").jsx("div",{className:"_6i3z",children:b("React").jsx(b("RTCUIMicrophoneIcon.react"),{className:"_6plt",strikeThrough:!0})})},i=function(){return b("React").jsx(b("RTCSVGIcon.react"),{style:{marginTop:"8px"},children:b("React").jsxs("svg",{fill:"none",height:"100",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"80",children:[b("React").jsx("path",{d:"M19 10v2a7 6 0 0 1-14 0v-2"}),b("React").jsx("line",{x1:"8",x2:"16",y1:"22",y2:"22"})]})})};e.exports=a}),null);
__d("RTCPreCallMicrophoneContainer.react",["cx","FluxContainer","React","RTCAppDispatcher","RTCCallStore","RTCMediaDevicesStore","RTCPreCallMicPreview.react","RTCSettingsMediaDeviceSelector.react","RTCUserSettingsActions","RTCUserSettingsStore","RTCUtils","SUIMessengerRTCDarkTheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=function(a){b("RTCUserSettingsActions").setAudioInput(a),d.props.onMediaDevicesChange&&d.props.onMediaDevicesChange({audioInput:a})};b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")]);return d}c.getStores=function(){return[b("RTCCallStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")]};c.calculateState=function(){return{audioInput:b("RTCUserSettingsStore").getState().audioInput,audioDevices:b("RTCUtils").filterDevicesByKind(b("RTCMediaDevicesStore").getState(),"audioinput"),isAudioMuted:b("RTCCallStore").getState().localUser.isAudioMuted()}};var d=c.prototype;d.render=function(){var a=this.state,c=a.audioDevices;a=a.audioInput;a=a;a==null&&c.length>0&&(a=c[0].deviceId);return b("React").jsxs("div",{className:"_142c",children:[b("React").jsx(b("RTCPreCallMicPreview.react"),{audioInput:a,isAudioMuted:this.state.isAudioMuted}),b("React").jsx(b("RTCSettingsMediaDeviceSelector.react"),{buttonBorderedSides:["top"],buttonRoundedCorners:["bottomLeft","bottomRight"],devices:c,disabled:this.state.isAudioMuted,onChange:this.$1,selectorType:"audioinput",theme:b("SUIMessengerRTCDarkTheme"),value:a,width:148})]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("RTCP2PActiveMediaDeviceContainer.react",["cx","fbt","FBLogger","FDSCheckboxInput.maintenance.react","FDSText.react","FluxContainer","React","RTCAppDispatcher","RTCMediaDevicesStore","RTCP2PCallStore","RTCP2PProtocolHandler","RTCPreCallAudioOutputContainer.react","RTCPreCallCameraContainer.react","RTCPreCallMicrophoneContainer.react","RTCUserSettingsActions","RTCUserSettingsStore","RTCUtils","RTWebUserActionLogger","WebStorage","dangerouslyBypassDispatchError","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="collab_local_devices";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this)||this;c.$1=function(a){var d=a.audioInput?a.audioInput:c.state.audioInput;a=a.videoInput?a.videoInput:c.state.videoInput;b("RTCP2PProtocolHandler").initStream(!c.state.isAudioCall,d,a).then(function(a){return b("RTCP2PProtocolHandler").replaceLocalStream(a,!0)})["catch"](function(a){return k(a,"user_settings_changed")})};c.$2=function(a){if(a){var b=c.state,d=b.audioInput;b=b.videoInput;n({audioInput:d,videoInput:b})}c.setState({saveLocalDevices:a})};b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCMediaDevicesStore"),b("RTCP2PCallStore"),b("RTCUserSettingsStore")]);return c}c.getStores=function(){return[b("RTCP2PCallStore"),b("RTCUserSettingsStore")]};c.calculateState=function(){var a=b("RTCUserSettingsStore").getState();return{audioInput:a.audioInput,isAudioCall:b("RTCP2PCallStore").isAudioOnly(),saveLocalDevices:l(a.audioInput,a.videoInput),videoInput:a.videoInput}};var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=m();if(a!=null){var c=b("RTCMediaDevicesStore").getState(),d=b("RTCUserSettingsStore").getState(),e=d.audioInput;d=d.videoInput;var f=b("RTCUtils").isDevicePresent(c,a.audioInput);f&&a.audioInput!==e&&(this.$1({audioInput:a.audioInput}),b("dangerouslyBypassDispatchError")(function(){b("RTCUserSettingsActions").setAudioInput(a.audioInput)}));e=b("RTCUtils").isDevicePresent(c,a.videoInput);e&&a.videoInput!==d&&(this.$1({videoInput:a.videoInput}),b("dangerouslyBypassDispatchError")(function(){b("RTCUserSettingsActions").setVideoInput(a.videoInput)}));(!f||!e)&&o()}};d.render=function(){return b("React").jsxs("div",{className:"_6p8b",children:[b("React").jsxs("div",{children:[b("React").jsx(b("RTCPreCallCameraContainer.react"),{onMediaDevicesChange:this.$1}),b("React").jsxs(j,{children:[b("React").jsx(b("RTCPreCallMicrophoneContainer.react"),{onMediaDevicesChange:this.$1}),b("React").jsx(b("RTCPreCallAudioOutputContainer.react"),{})]})]}),b("React").jsx("div",{className:"_75_l",children:b("React").jsx(b("FDSCheckboxInput.maintenance.react"),{label:b("React").jsx(b("FDSText.react"),{color:"white",display:"block",size:"header4",children:h._("Configurar estos dispositivos como predeterminados")}),onChange:this.$2,value:this.state.saveLocalDevices})})]})};return c}(b("React").PureComponent);var j=function(a){return b("React").jsx("div",{className:b("joinClasses")(a.className,"_4m1o"),style:a.style,children:a.children})};function k(a,c){b("RTWebUserActionLogger").logError({errorDomain:"get user media: error",errorType:JSON.stringify(a),surface:"call_container"})}var l=function(a,b){var c=m();return c==null?!1:a===c.audioInput&&b===c.videoInput},m=function(){var a=b("WebStorage").getLocalStorage();if(a!=null){a=a.getItem(i);if(a!=null)return JSON.parse(a)}return null},n=function(a){try{var c=b("WebStorage").getLocalStorage();c!=null&&c.setItem(i,JSON.stringify(a))}catch(a){b("FBLogger")("rtweb").catching(a).debug("Failed to store devices in local storage ")}},o=function(){var a=b("WebStorage").getLocalStorage();a!=null&&a.removeItem(i)};e.exports=b("FluxContainer").create(a)}),null);
__d("RTCRemotePeerInfo.react",["cx","fbt","Image.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){var c=a.meetingID,d=a.peer;return b("React").jsxs("div",{className:"_1h0c",children:[b("React").jsxs("div",{className:"_6f_i",children:[b("React").jsx("p",{className:"_6f_j",children:c!=null?"#"+c:d.userName}),b("React").jsx("p",{className:"_6f_k",children:b("React").jsx(i,{meetingID:a.meetingID,meetingPassword:a.meetingPassword,peer:d})})]}),b("React").jsx(b("Image.react"),{className:"_1h11",src:d.profilePictureUrl})]})};var i=function(a){var b=a.peer;return a.meetingID!=null?a.meetingPassword!=null?h._("Contrase\u00f1a: {number}",[h._param("number",a.meetingPassword)]):h._("Identificador de la reuni\u00f3n"):b.roomLocation!=null?b.roomLocation:null};e.exports=a}),null);
__d("RTCPreCallSetup.react",["ix","cx","fbt","Image.react","React","RTCP2PActiveMediaDeviceContainer.react","RTCRemotePeerInfo.react","RTCTextButton.react","asset","cxMargin","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){switch(this.props.conferenceState){case"NEW":case"AWAITING_USER_START":return b("React").jsx(j,{callButtonLabel:this.props.meetingID!=null?i._("Unirte a la reuni\u00f3n"):i._("Iniciar llamada"),dataTestId:"RTCAppViewStartCallButton",isAudioMuted:this.props.isAudioMuted,isVideoMuted:this.props.isVideoMuted,meetingID:this.props.meetingID,meetingPassword:this.props.meetingPassword,onClick:this.$1(this.props.conferenceState),peer:this.props.peer,showEndCallReason:!1});case"TERMINATED":return b("React").jsx(j,{callButtonLabel:i._("Volver a marcar"),dataTestId:"rediallButton",endCallReason:this.props.endCallReason,isAudioMuted:this.props.isAudioMuted,isVideoMuted:this.props.isVideoMuted,meetingID:this.props.meetingID,meetingPassword:this.props.meetingPassword,onClick:this.$1(this.props.conferenceState),peer:this.props.peer,showEndCallReason:!0});default:return null}};d.$1=function(a){var b=this;return function(){return b.props.onClick(a)}};return c}(b("React").PureComponent);var j=function(a){return b("React").jsxs("div",{className:"_4m1g",children:[b("React").jsxs("div",{className:"_6p8a",children:[b("React").jsx(b("RTCRemotePeerInfo.react"),{meetingID:a.meetingID,meetingPassword:a.meetingPassword,peer:a.peer}),b("React").jsxs("div",{className:"_2pil",children:[a.showEndCallReason?a.endCallReason?b("React").jsx("div",{className:"_6pls",children:a.endCallReason.toString(!0)}):null:b("React").jsx(k,{isAudioMuted:a.isAudioMuted,isVideoMuted:a.isVideoMuted}),b("React").jsx(b("RTCTextButton.react"),{className:"precall","data-testid":a.dataTestId,label:a.callButtonLabel,onClick:a.onClick})]})]}),b("React").jsxs("div",{children:[b("React").jsx(l,{className:"_3v59",children:i._("Prueba la c\u00e1mara y el micr\u00f3fono")}),b("React").jsx(b("RTCP2PActiveMediaDeviceContainer.react"),{})]})]})},k=function(a){if(!a.isVideoMuted&&!a.isAudioMuted)return null;a.isVideoMuted?a=a.isAudioMuted?i._("Te unir\u00e1s a esta llamada con la c\u00e1mara y el micr\u00f3fono desactivados"):i._("Te unir\u00e1s a esta llamada solo con audio"):a=i._("Te unir\u00e1s a la llamada con el micr\u00f3fono desactivado");return b("React").jsxs("div",{className:"_6pls",children:[b("React").jsx("div",{className:"_6uo2",children:b("React").jsx(b("Image.react"),{src:g("504082")})}),b("React").jsx("div",{className:"_3-93",children:a})]})},l=function(a){return b("React").jsx("div",{className:b("joinClasses")(a.className,"_4m1o"),style:a.style,children:a.children})};e.exports=a}),null);
__d("RTCPreCallSetupContainer.react",["FBRTCLogger","FluxContainer","React","RTCAppDispatcher","RTCCallActions","RTCCallLogActions","RTCCallStore","RTCMediaDevicesStore","RTCOneVCStore","RTCP2PCallStore","RTCP2PProtocolHandler","RTCPreCallSetup.react","RTCUserSettingsStore","generateRTCCallID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$1=!0;b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallStore"),b("RTCOneVCStore"),b("RTCP2PCallStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")]);b("RTCMediaDevicesStore").refresh();return c}c.getStores=function(){return[b("RTCCallStore"),b("RTCP2PCallStore"),b("RTCOneVCStore")]};c.calculateState=function(){var a=b("RTCCallStore").getState(),c=a.callInfo,d=a.localUser;a=a.remoteUsers;var e=b("RTCP2PCallStore").getState();e=e.endCallReason;return{conferenceState:c.conferenceState,endCallReason:e,isAudioMuted:d.isAudioMuted(),isVideoMuted:d.isVideoMuted(),meetingID:b("RTCOneVCStore").getState().meetingID,meetingPassword:b("RTCOneVCStore").getState().meetingPassword,peer:a.first()}};var d=c.prototype;d.componentDidUpdate=function(a,c){if(this.$1&&this.state.conferenceState==="TERMINATED"){this.$1=!1;a=b("RTCUserSettingsStore").getState();c=a.audioInput;a=a.videoInput;b("RTCP2PProtocolHandler").initStream(!0,c,a).then(function(a){return b("RTCCallActions").addLocalStream(a)})["catch"](function(a){b("RTCCallLogActions").logEvent("get user media: error",{error:a.name,constraint:a.constraint,trigger:"redial"})})}};d.$2=function(a){if(a==="TERMINATED"){a=b("generateRTCCallID")().toString();b("RTCCallActions").resetForRedial(a,a);b("RTCP2PCallStore").getState().protocolHandler.startCall(b("FBRTCLogger").Trigger.REDIAL_BUTTON)}else b("RTCP2PCallStore").getState().protocolHandler.startCall(b("FBRTCLogger").Trigger.VC_PRECALL_SETUP)};d.render=function(){return b("React").jsx(b("RTCPreCallSetup.react"),babelHelpers["extends"]({},this.state,{onClick:this.$2}))};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("RTCP2PAppViewContent.react",["cx","fbt","FBRTCConfig","React","RTCAppSpinner.react","RTCAppViewMain.react","RTCCallConnectionStatus.react","RTCCallStateInfo.react","RTCCallUser.react","RTCEndOfCallSurvey.react","RTCP2PCallActions","RTCP2PIncallView.react","RTCP2PStartCallButton.react","RTCPreCallSetupContainer.react","RTCRingBackTone.react","RTCStarRating.react","RTWebCollabClientFeatureGating","SignalsSimpleFadeOutContainer.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();if(a.remoteUser==null)return b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!0,children:b("React").jsx(b("RTCAppSpinner.react"),{})});var c=a.awaitingEscalationACK,d=a.conferenceState,e=a.connectionStatus,f=a.endCallReason,g=a.escalationInProgress,m=a.escalationRequest,n=a.isAudioCall,o=a.isRedialFooterButtonShown,p=a.isScreenContentPoppedOut,q=a.isStarRatingShown,r=a.remoteUser;switch(d){case"NEW":return b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!1,children:b("React").jsxs(b("RTCCallStateInfo.react"),{children:[b("RTWebCollabClientFeatureGating").showPreCallSetup(a.isCaller)?b("React").jsx(b("RTCPreCallSetupContainer.react"),{}):b("React").jsx(b("RTCCallUser.react"),{isP2PCall:!0,user:r}),b("React").jsx(b("RTCAppSpinner.react"),{})]})});case"AWAITING_USER_START":return b("RTWebCollabClientFeatureGating").showPreCallSetup(a.isCaller)?b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!1,children:b("React").jsx(b("RTCCallStateInfo.react"),{children:b("React").jsx(b("RTCPreCallSetupContainer.react"),{})})}):b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!1,children:b("React").jsxs(b("RTCCallStateInfo.react"),{children:[b("React").jsx(b("RTCCallUser.react"),{isP2PCall:!0,user:r}),b("React").jsx(b("RTCCallConnectionStatus.react"),{children:h._("\u00bfListo para llamar?")}),b("React").jsx(b("RTCP2PStartCallButton.react"),{conferenceState:d,isAudio:n})]})});case"CONNECTING":case"CONNECTED":var s=m&&c||g;return b("React").jsxs(b("RTCAppViewMain.react"),{fullBleed:!n,children:[b("React").jsx(b("RTCP2PIncallView.react"),babelHelpers["extends"]({audioSinkID:a.audioOutput,renderScreenStreams:!p,user:r},{isAudioCall:n},{children:b("React").jsxs(b("RTCCallStateInfo.react"),{className:n?"":"_2fsu",children:[b("React").jsx(b("RTCCallUser.react"),{isP2PCall:!0,meetingID:a.meetingID,user:r}),b("React").jsx(b("RTCCallConnectionStatus.react"),babelHelpers["extends"]({connectionStatus:e},{children:s?b("React").jsx(i,{awaitingEscalationACK:c,escalationInProgress:g,escalationRequest:m}):null})),k(a.failureReason)]})})),b("React").jsx(j,{conferenceState:d,connectionStatus:e})]});case"TERMINATING":case"TERMINATED":if(q)return b("RTWebCollabClientFeatureGating").showTheNewEndCallSurvey()?b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!1,children:b("React").jsx(b("RTCEndOfCallSurvey.react"),{onDone:l,shouldCloseWindow:!1})}):b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!1,children:b("React").jsx(b("RTCStarRating.react"),babelHelpers["extends"]({isGroupCall:!1,onDone:l,shouldCloseWindow:!o},{isAudioCall:n}))});else return b("RTWebCollabClientFeatureGating").showPreCallSetup(a.isCaller)?b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!1,children:b("React").jsx(b("RTCCallStateInfo.react"),{children:b("React").jsx(b("RTCPreCallSetupContainer.react"),{})})}):b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!1,children:b("React").jsxs(b("RTCCallStateInfo.react"),{children:[b("React").jsx(b("RTCCallUser.react"),{isP2PCall:!0,user:r}),b("React").jsx(b("RTCCallConnectionStatus.react"),babelHelpers["extends"]({connectionStatus:e},{children:f?f.toString(b("FBRTCConfig").isVCEndpointCall()):null}))]})})}return b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!1})};var i=function(a){if(a.escalationRequest)return a.awaitingEscalationACK?h._("Enviando respuesta..."):b("React").jsxs("div",{children:[h._("Quiere hablar por videochat..."),b("React").jsx("br",{}),b("React").jsx("div",{className:"_46la _43ut",children:h._("Se activar\u00e1 el video.")})]});return a.escalationInProgress?h._("Solicitando video..."):null},j=function(a){return a.conferenceState==="CONNECTING"?b("React").jsx(b("RTCRingBackTone.react"),{active:a.connectionStatus==="RINGING"}):null};function k(a){__p&&__p();var c;switch(a){case"denied":c=h._("Se rechaz\u00f3 la solicitud de video...");break;case"cancelled":c=h._("Se cancel\u00f3 la solicitud de video...");break;case"timeout":c=h._("Se agot\u00f3 el tiempo de espera de la solicitud de video...");break;default:return null}return b("React").jsx("div",{className:"_46la",children:b("React").jsx(b("SignalsSimpleFadeOutContainer.react"),{delay:1,duration:2,children:c})})}function l(){b("RTCP2PCallActions").starRatingDone(!0)}e.exports=a}),null);
__d("RTCP2PAppViewContentContainer.react",["FluxContainer","React","RTCOneVCStore","RTCP2PAppViewContent.react","RTCP2PCallEscalationStore","RTCP2PCallStore","RTCUserSettingsStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("RTCOneVCStore"),b("RTCP2PCallEscalationStore"),b("RTCP2PCallStore"),b("RTCUserSettingsStore")]};c.calculateState=function(){var a=b("RTCP2PCallEscalationStore").getState(),c=b("RTCP2PCallStore").getState(),d=c.isCaller,e=c.isRedialFooterButtonShown;c=c.isStarRatingShown;var f=b("RTCUserSettingsStore").getState();f=f.audioOutput;return{audioOutput:f,awaitingEscalationACK:a.awaitingACK,escalationInProgress:a.inProgress,escalationRequest:Boolean(a.request),failureReason:a.failureReason,isCaller:d,isRedialFooterButtonShown:e,isStarRatingShown:c,meetingID:b("RTCOneVCStore").getState().meetingID}};var d=c.prototype;d.render=function(){return b("React").jsx(b("RTCP2PAppViewContent.react"),babelHelpers["extends"]({},this.props,this.state))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("RTCCallControlsEscalationAcceptButton.react",["cx","React","RTCCallControlsButtonWithLabel.react","RTCUICameraIcon.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["className"]);return b("React").jsx(b("RTCCallControlsButtonWithLabel.react"),babelHelpers["extends"]({className:b("joinClasses")(c,"opaque redial icon-48"),"data-testid":"acceptEscalationButton"},a,{children:b("React").jsx(b("RTCUICameraIcon.react"),{})}))};e.exports=a}),null);
__d("RTCCallControlsEscalationDeclineButton.react",["cx","React","RTCCallControlsButtonWithLabel.react","RTCUIXIcon.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["className"]);return b("React").jsx(b("RTCCallControlsButtonWithLabel.react"),babelHelpers["extends"]({className:b("joinClasses")(c,"icon-48 closeWindow")},a,{children:b("React").jsx(b("RTCUIXIcon.react"),{})}))};e.exports=a}),null);
__d("RTCCollabEndCallFooterContainer.react",["cx","FluxContainer","React","RTCAppViewFooter.react","RTCCallActions","RTCCallControls.react","RTCCallControlsToggleAudioButton.react","RTCCallControlsToggleVideoButton.react","RTCCallStore","RTCP2PCallStore","RTCP2PProtocolHandler"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("RTCCallStore"),b("RTCP2PCallStore")]};c.calculateState=function(){var a=b("RTCCallStore").getState(),c=a.callInfo;a=a.localUser;c=c.conferenceState;return{conferenceState:c,initializeVideo:a.hasVideo(),localUser:a,wasStarRatingDone:b("RTCP2PCallStore").getState().wasStarRatingDone}};var d=c.prototype;d.render=function(){return this.state.wasStarRatingDone||b("RTCP2PProtocolHandler").showRedialButton()?b("React").jsx(b("RTCAppViewFooter.react"),{className:"_2s-6",onResize:this.props.onResize,children:b("React").jsxs(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",onResize:this.props.onCallControlsResize,children:[b("React").jsx(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:this.state.conferenceState,disabled:!1,initializeVideo:this.state.initializeVideo,isP2P:!0,onToggle:this.$1,videoMuted:this.state.localUser.isVideoMuted()}),b("React").jsx(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:this.state.localUser.isAudioMuted()})]})}):b("React").jsx(b("RTCAppViewFooter.react"),{className:"_2s-7"})};d.$1=function(a){b("RTCCallActions").toggleMuteVideo(a)};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("RTCP2PAppViewFooterUtils",["fbt"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={getScreenSharingCallControlPopoverBody:function(a,b,c,d,e){if(a)return d?g._("En este momento, la opci\u00f3n de compartir pantalla no est\u00e1 disponible para las llamadas de Messenger a salas."):g._("El uso compartido de la pantalla est\u00e1 desactivado para esta llamada porque el dispositivo de {name} no admite esa funci\u00f3n.",[g._param("name",e)]);else if(b)return g._("{name} ya est\u00e1 compartiendo su pantalla. Podr\u00e1s compartir la tuya cuando deje de compartir la suya.",[g._param("name",e)]);else if(c)return g._("La opci\u00f3n de compartir pantalla solo est\u00e1 disponible para las videollamadas.");return null},getVideoCallControlPopoverTitle:function(a,b){return!a&&b?g._("No se encuentra la c\u00e1mara"):null},getVideoCallControlPopoverBody:function(a,b,c,d){if(a)return g._("El video est\u00e1 desactivado para esta llamada porque el dispositivo de {name} no admite videos.",[g._param("name",d)]);else if(b)return g._("Conecta la c\u00e1mara y actualiza la p\u00e1gina para activar el video. Si ya est\u00e1 conectada, vuelve a abrir el navegador.");else if(c)return g._("El video est\u00e1 en pausa porque la conexi\u00f3n es lenta.");return null}};e.exports=a}),null);
__d("RTCP2PAppViewFooter.react",["cx","fbt","Promise","Bootloader","CollabRTCChromeScreenSharingExtension","FBRTCCallControlPopover.react","FBRTCConfig","FBRTCConsoleLogger","FBRTCPoorNetworkTooltip.react","FBRTCSupport","MercuryIDs","MessengerParticipants.bs","React","RTCAppViewFooter.react","RTCCallActions","RTCCallControls.react","RTCCallControlsAddGroupMembersButton.react","RTCCallControlsButton.react","RTCCallControlsCloseWindowButton.react","RTCCallControlsEndCallButton.react","RTCCallControlsEscalationAcceptButton.react","RTCCallControlsEscalationDeclineButton.react","RTCCallControlsToggleAudioButton.react","RTCCallControlsToggleScreenSharingWithFunnelButton.react","RTCCallControlsToggleVideoButton.react","RTCCallControlsVideoEscalationButton.react","RTCCallStore","RTCChromeScreenSharingUtils","RTCCollabEndCallFooterContainer.react","RTCP2PAppViewFooterUtils","RTCP2PCallActions","RTCP2PCallEscalationActions","RTCP2PCallEscalator","RTCP2PProtocolHandler","RTCP2PRedialButton.react","RTCSelfView.react","RTCUIPhoneIcon.react","RTWebClientFeatureGating","RTWebStrings","RTWebUserActionLogger","UserAgent","gkx","immutable","keyMirror","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("RTCChromeScreenSharingUtils").getMediaRequestSourceAppId,j=1e4,k=b("keyMirror")({READY:null,SHOWN:null,COMPLETE:null}),l=255,m=255,n=320;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={forceVisible:k.READY,participants:b("immutable").Map(),showPopovers:!0},d.$2=0,d.$4=0,d.$5=null,d.$8=0,d.$10=0,d.shouldAlwaysShowRedial=!1,d.$14=function(){d.props.protocolHandler.endCall()},d.$13=function(a){b("RTWebClientFeatureGating").stopVideoWhenMute()?a?b("promiseDone")(b("RTCP2PProtocolHandler").initStream(!0),function(a){var c=d.props.localUser.getStream();c?b("RTCCallActions").replaceLocalStream(c,a):b("RTCCallActions").addLocalStream(a)}):b("RTCCallActions").stopLocalVideo():b("RTCCallActions").toggleMuteVideo(a)},d.$17=function(){b("RTWebUserActionLogger").logClick({component:"video_escalate_accept",surface:"call_controls"}),b("RTCCallStore").mutateCallSummary(function(a){a.setVidEscalationAcceptedClick(),a.setVidEscalationMediaRequested()}),b("RTCP2PCallEscalator").acceptEscalation().then(function(a){b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationMediaSuccess()})})["catch"](function(a){b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationMediaFailed()}),d.$25("get user media: error",JSON.stringify({error:a.name,constraint:a.constraint,trigger:"escalation_approved"}))})},d.$19=function(){b("RTWebUserActionLogger").logClick({component:"video_escalate",surface:"call_controls"}),b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationInitClick()}),d.props.escalationInProgress?b("RTCP2PCallEscalationActions").cancel():(b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationMediaRequested()}),b("RTCP2PCallEscalator").initEscalation().then(function(a){b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationMediaSuccess()})})["catch"](function(a){b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationMediaFailed()}),b("RTWebUserActionLogger").logError({errorDomain:"video_escalation_error",errorType:a.toString()}),d.$25("get user media: error",JSON.stringify({error:a.name,constraint:a.constraint,trigger:"escalation_initiated"}))}))},d.$20=function(a){d.$9!==a&&(d.$9=a,d.forceUpdate())},d.$22=function(a){d.$7!==a&&(d.$7=a,d.forceUpdate())},d.$23=function(a){d.$1!==a&&(d.$1=a,d.forceUpdate())},d.$11=function(a){a=a.width;if(d.$10===a)return;d.$10=a;d.$26()},d.$12=function(a){a=a.width;if(d.$2===a)return;d.$2=a;d.$26()},d.$24=function(a){a=a.width;if(d.$2===a)return;d.$2=a},d.$18=function(a){d.setState({showPopovers:a})},d.$15=function(a){a=a.width;if(d.$8===a)return;d.$8=a;d.$26()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;if(b("gkx")("678353")){var c=b("MercuryIDs").getParticipantIDFromUserID(this.props.remoteUserID);b("MessengerParticipants.bs").get(c,function(d){var e;a.setState({participants:b("immutable").Map((e={},e[c]=d,e))})})}this.shouldAlwaysShowRedial=b("RTWebClientFeatureGating").shouldAlwaysShowRedial()};d.render=function(){__p&&__p();var a=this,c=this.props,d=c.canPeerReceiveScreenSharing,e=c.conferenceState,f=c.escalationInProgress,g=c.hasRemoteScreenStream,i=c.initializeVideo,j=c.isAudioCall,l=c.isPoorNetworkQualityShown,m=c.isRedialFooterButtonShown,n=c.isRemoteVideoSupported,s=c.localUser,t=c.remotePeerName,u=c.protocolHandler;c=c.wasStarRatingDone;var v=this.state.participants,w=b("RTCP2PProtocolHandler").supportMultipleStreams(),x=s.getScreenStream(),y=b("gkx")("678353")&&this.props.offerEscalationSupport&&b("FBRTCSupport").isGroupCallWebtrcSupported(),z=i||s.hasVideo();switch(e){case"AWAITING_USER_START":return b("FBRTCConfig").isVCEndpointCall()?b("React").jsx(b("RTCAppViewFooter.react"),{className:"_2s-6",onResize:this.$11,children:b("React").jsxs(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",onResize:this.$12,ref:function(b){return a.$3=b?b.getDOMNode():b},children:[b("React").jsx(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:e,disabled:!b("FBRTCConfig").isVCEndpointCall(),initializeVideo:z,isP2P:!0,onToggle:this.$13,videoMuted:s.isVideoMuted()}),b("React").jsx(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:s.isAudioMuted()})]})}):b("React").jsx(b("RTCAppViewFooter.react"),{className:"_2s-7"});case"CONNECTING":return b("React").jsxs(b("RTCAppViewFooter.react"),{className:"_2s-6",onResize:this.$11,children:[b("React").jsxs(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",onResize:this.$12,ref:function(b){return a.$3=b?b.getDOMNode():b},children:[b("React").jsx(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:e,disabled:!b("FBRTCConfig").isVCEndpointCall(),initializeVideo:z,isP2P:!0,onToggle:this.$13,videoMuted:s.isVideoMuted()}),b("React").jsx(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:s.isAudioMuted()}),b("React").jsx(p,{conferenceState:e,disabled:!0,protocolHandler:u,stream:x}),b("React").jsx(b("RTCCallControlsEndCallButton.react"),{onClick:this.$14})]}),b("React").jsx(b("RTCSelfView.react"),{className:"_2s-8",hideCameraViewWhenScreenSharing:!w,isAudioCall:j,isP2P:!0,onResize:this.$15,onScreenSharingStop:function(a){return u.stopScreenStream(a)},user:s})]});case"CONNECTED":if(this.props.escalationRequest){var A=this.props.awaitingEscalationACK;return b("React").jsx(b("RTCAppViewFooter.react"),{className:"_2s-6",children:b("React").jsxs(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",children:[b("React").jsx(b("RTCCallControlsEscalationDeclineButton.react"),{disabled:A,onClick:this.$16,title:h._("Rechazar")}),b("React").jsx(b("RTCCallControlsEscalationAcceptButton.react"),{disabled:A,onClick:this.$17,title:h._("Aceptar")})]})})}A=g||s.hasScreenStream();return b("React").jsxs(b("RTCAppViewFooter.react"),{className:"_2s-6",onResize:this.$11,children:[b("React").jsxs(b("RTCCallControls.react"),{autoHide:!j&&this.state.forceVisible!==k.SHOWN,className:"_2s-7",onResize:this.$12,onUpdateVisibility:this.$18,ref:function(b){return a.$3=b?b.getDOMNode():b},children:[j&&n?b("React").jsx(b("RTCCallControlsVideoEscalationButton.react"),{onClick:this.$19,videoMuted:j&&!f}):b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:e,disabled:!n,initializeVideo:z,isP2P:!0,nodeRef:this.$20,onToggle:this.$13,videoMuted:s.isVideoMuted()}),this.state.showPopovers?b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(o,{initializeVideo:i,isRemoteVideoSupported:n,localUser:s,peerName:t,referenceElement:this.$9,videoIsAutoDisabled:this.props.videoIsAutoDisabled}),b("RTWebClientFeatureGating").shouldShowNetworkQualityIndicator()?b("React").jsx(b("FBRTCPoorNetworkTooltip.react"),{onClick:this.$21,referenceElement:this.$9,shown:l&&s.hasVideo()&&!s.isVideoMuted()}):null]}):null]}),b("React").jsx(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:s.isAudioMuted()}),b("React").jsx(p,{conferenceState:e,disabled:j||!d||g,nodeRef:this.$22,protocolHandler:u,stream:x}),this.state.showPopovers?b("React").jsx(q,{canPeerReceiveScreenSharing:d,hasRemoteScreenStream:g,isAudioCall:j,peerName:t,referenceElement:this.$7}):null,y?b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("RTCCallControlsAddGroupMembersButton.react"),{conferenceName:this.props.conferenceName,conferenceState:this.props.conferenceState,disabled:A,isP2P:!0,localUser:s,participants:v,ref:this.$23,remoteUsers:b("immutable").List(this.props.remoteUsers),showNux:this.props.showAddMemberNux,thread:null}),this.state.showPopovers&&A?b("React").jsx(r,{referenceElement:this.$1}):null]}):null,b("React").jsx(b("RTCCallControlsEndCallButton.react"),{onClick:this.$14})]}),b("React").jsx(b("RTCSelfView.react"),{className:"_2s-8",hideCameraViewWhenScreenSharing:!w,isAudioCall:j,isP2P:!0,onResize:this.$15,onScreenSharingStop:function(a){return u.stopScreenStream(a)},user:s})]});case"TERMINATING":return b("React").jsxs(b("RTCAppViewFooter.react"),{className:"_2s-6",onResize:this.$11,children:[b("React").jsxs(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",onResize:this.$12,ref:function(b){return a.$3=b?b.getDOMNode():b},children:[b("React").jsx(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:e,disabled:!0,initializeVideo:z,isP2P:!0,nodeRef:this.$20,onToggle:this.$13,videoMuted:!0}),b("React").jsx(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:!0,disabled:!0}),b("React").jsx(p,{conferenceState:e,disabled:!0,nodeRef:this.$22,protocolHandler:u,stream:null}),b("React").jsx(b("RTCCallControlsEndCallButton.react"),{disabled:!0})]}),b("React").jsx(b("RTCSelfView.react"),{className:"_2s-8",hideCameraViewWhenScreenSharing:!w,isAudioCall:j,isP2P:!0,onResize:this.$15,user:s})]});case"TERMINATED":if(b("FBRTCConfig").isVCEndpointCall())return b("React").jsx(b("RTCCollabEndCallFooterContainer.react"),{onCallControlsResize:this.$12,onResize:this.$11});return m||c?b("React").jsx(b("RTCAppViewFooter.react"),{className:"_2s-6",children:b("React").jsxs(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",onResize:this.$24,ref:function(b){return a.$3=b?b.getDOMNode():b},children:[b("React").jsx(b("RTCP2PRedialButton.react"),{icon:b("React").jsx(b("RTCUIPhoneIcon.react"),{variant:"start call"}),title:b("RTWebStrings").redial}),this.props.shouldHideCloseButton?null:b("React").jsx(b("RTCCallControlsCloseWindowButton.react"),{})]})}):b("React").jsx(b("RTCAppViewFooter.react"),{className:"_2s-7"});default:return b("React").jsx(b("RTCAppViewFooter.react"),{className:"_2s-7"})}};d.$21=function(){b("RTWebUserActionLogger").logClick({component:"poor_network_tooltip",surface:"call_controls"}),b("RTCP2PCallActions").togglePoorNetworkQualityIndicator(!1)};d.$16=function(){b("RTWebUserActionLogger").logClick({component:"video_escalate_decline",surface:"call_controls"}),b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationDeclinedClick()}),b("RTCP2PCallEscalator").declineEscalation()};d.$26=function(){__p&&__p();var a=this;if(this.$10===0||this.$2===0)return;var b=Math.min(0,this.$10/2-(this.$2/2+this.$8));if(b===this.$4)return;this.$4=b;if(this.$3){var c=this.$3.style;c.transition="none";this.$5=window.requestAnimationFrame(function(){c.transform="translateX("+a.$4+"px)",c.transition=""})}};d.$27=function(a){var b=this,c=this.props,d=c.localUser;c=c.videoIsAutoDisabled;a=a.forceVisible;c||d.hasStream()&&!d.hasVideo()?a===k.READY&&(this.setState({forceVisible:k.SHOWN}),this.$6=window.setTimeout(function(){b.setState({forceVisible:k.COMPLETE})},j)):a===k.SHOWN&&this.setState({forceVisible:k.COMPLETE})};d.$25=function(a,c){var d=this;if(!b("FBRTCConfig").isVCEndpointCall())return;b("Bootloader").loadModules(["CollabMessengerLogger"],function(b){return b.log(a,{peerID:d.props.remoteUserID,callID:Number(d.props.callID),eventDetails:c})},"RTCP2PAppViewFooter.react")};d.componentDidUpdate=function(a,b){this.$27(b)};d.componentWillUnmount=function(){window.cancelAnimationFrame(this.$5),window.clearTimeout(this.$6)};return c}(b("React").PureComponent);a.defaultProps={isRemoteVideoSupported:!0,videoIsAutoDisabled:!1};var o=function(a){var c=a.initializeVideo,d=a.isRemoteVideoSupported,e=a.localUser,f=a.peerName,g=a.referenceElement;a=a.videoIsAutoDisabled;var i=b("RTCP2PAppViewFooterUtils").getVideoCallControlPopoverTitle(!d,!e.hasVideo()&&c);d=b("RTCP2PAppViewFooterUtils").getVideoCallControlPopoverBody(!d,!e.hasVideo()&&c,a,f);return b("React").jsx(b("FBRTCCallControlPopover.react"),{body:d,className:"_26bw",hideOnBlur:!0,label:h._("Estado de error del video"),referenceElement:g,title:i,width:n})},p=function(a){var c=a.conferenceState,d=a.disabled,e=a.nodeRef,f=a.protocolHandler;a=a.stream;return b("React").jsx(b("RTCCallControlsToggleScreenSharingWithFunnelButton.react"),{conferenceState:c,disabled:d,isP2P:!0,onExtensionInstallStart:function(){return b("UserAgent").isBrowser("Chrome")?b("CollabRTCChromeScreenSharingExtension").install(i()):b("Promise").reject("unexpected browser")},onShareStarted:function(a){return f.startScreenStream(a)},onShareStop:function(a){return f.stopScreenStream(a)},onShareStreamUpdate:function(a,b){return f.updateScreenStream(a,b)},ref:e,stream:a})},q=function(a){var c=a.canPeerReceiveScreenSharing,d=a.hasRemoteScreenStream,e=a.isAudioCall,f=a.peerName;a=a.referenceElement;var g=null;c=b("RTCP2PAppViewFooterUtils").getScreenSharingCallControlPopoverBody(!c,d,e,b("FBRTCConfig").isVCEndpointCall(),f);return b("React").jsx(b("FBRTCCallControlPopover.react"),{body:c,className:"_26bw",hideOnBlur:!0,label:h._("Estado del uso compartido de la pantalla"),referenceElement:a,title:g,width:m})},r=function(a){a=a.referenceElement;var c=h._("No se puede agregar un participante mientras se comparte la pantalla");return b("React").jsx(b("FBRTCCallControlPopover.react"),{body:c,className:"_26bw",hideOnBlur:!0,label:h._("No se puede agregar un participante mientras se comparte la pantalla"),referenceElement:a,title:null,width:l})};e.exports=a}),null);
__d("RTCP2PAppViewFooterContainer.react",["FluxContainer","React","RTCAppDispatcher","RTCCallNUXStore","RTCCallStore","RTCP2PAppViewFooter.react","RTCP2PCallEscalationStore","RTCP2PCallStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("RTCCallStore"),b("RTCP2PCallStore"),b("RTCP2PCallEscalationStore"),b("RTCCallNUXStore")]};c.calculateState=function(){var a=b("RTCP2PCallEscalationStore").getState(),c=b("RTCP2PCallStore").getState(),d=b("RTCCallStore").getState();return{awaitingEscalationACK:a.awaitingACK,escalated:a.escalated,escalationInProgress:a.inProgress,escalationRequest:Boolean(a.request),isCaller:c.isCaller,isPoorNetworkQualityShown:c.isPoorNetworkQualityShown,isRedialFooterButtonShown:c.isRedialFooterButtonShown,offerEscalationSupport:c.offerEscalationSupport&&c.escalationConferenceName!==null,protocolHandler:c.protocolHandler,remoteUsers:d.remoteUsers,showAddMemberNux:b("RTCCallNUXStore").getState().showAddGroupMemberNUX,wasStarRatingDone:c.wasStarRatingDone}};function c(){var d;d=a.call(this)||this;b("RTCAppDispatcher").explicitlyRegisterStores([].concat(c.getStores()));return d}var d=c.prototype;d.render=function(){return b("React").jsx(b("RTCP2PAppViewFooter.react"),babelHelpers["extends"]({},this.props,this.state))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("RTCUIPopoutIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=a.filledWindow;c=c===void 0?"front":c;a=babelHelpers.objectWithoutPropertiesLoose(a,["filledWindow"]);return b("React").jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:b("React").jsx("svg",{viewBox:"0 0 50 50",children:c==="front"?b("React").jsx("path",{d:"M26 23H14.012a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2H26a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2zm9.994-8H24.006a2 2 0 0 0-2 2v4.997h2V17h11.988v8h-6.967v2h6.967a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2z"}):b("React").jsx("path",{d:"M36.01 14.996H24.02a2 2 0 0 0-2 2v4.997h4.028a3 3 0 0 1 3 3v2.003h6.96a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2zm-10.004 8.007H14.018a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11.988a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2zm0 10H14.018v-8h11.988v8z"})})}))};e.exports=a}),null);
__d("RTCCallControlsPopOutScreenContentButton.react",["cx","fbt","FluxContainer","React","RTCAppDispatcher","RTCCallControlsButton.react","RTCCallNUXActions","RTCCallNUXStore","RTCP2PCallActions","RTCUIPopoutIcon.react","RTWebUserActionLogger","XUIAmbientNUX.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("RTCCallNUXStore")]};c.calculateState=function(a){a===void 0&&(a={});return babelHelpers["extends"]({},a,{showNUX:b("RTCCallNUXStore").getState().showRemoteScreenContentPopOutNUX})};function c(c){var d;d=a.call(this,c)||this;d.$2=function(){b("RTWebUserActionLogger").logClick({component:"screensharing_pop_out_button",surface:d.props.surface}),d.props.onClick!=null?d.props.onClick():(d.state.showNUX&&i(),b("RTCP2PCallActions").togglePopOutScreenContent(d.props.mediaStream))};b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallNUXStore")]);return d}var d=c.prototype;d.render=function(){var a=this,c=this.props.mediaStream==null,d=c?h._("Mostrar contenido compartido"):h._("Abrir contenido compartido en una nueva ventana");return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("RTCCallControlsButton.react"),{className:b("joinClasses")(this.props.className,"transparent icon-50"),onClick:this.$2,ref:function(b){return a.$1=b},title:this.props.title||d,children:b("React").jsx(b("RTCUIPopoutIcon.react"),{filledWindow:c?"back":"front"})}),b("React").jsx(j,{contextRef:function(){return a.$1},shown:this.state.showNUX&&this.props.mediaStream!=null})]})};d.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({component:"screensharing_pop_out_button",surface:this.props.surface}),this.$3()};d.componentDidUpdate=function(){this.$3()};d.$3=function(){this.state.showNUX&&this.props.mediaStream!=null&&b("RTCCallNUXActions").markNUXViewed(4774)};return c}(b("React").PureComponent);function i(){b("RTCCallNUXActions").dismissNUX(4774)}var j=function(a){return b("React").jsx(b("XUIAmbientNUX.react"),babelHelpers["extends"]({alignment:"right",onCloseButtonClick:i,position:"below",width:"auto"},a,{children:h._("Abre el contenido compartido en otra ventana")}))};e.exports=b("FluxContainer").create(a)}),null);
__d("RTCPushToTalkIcon.react",["cx","React","RTCSVGIcon.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return b("React").jsx(b("RTCSVGIcon.react"),{className:b("joinClasses")(a.className,"_6zy0"),children:b("React").jsx("svg",{viewBox:"0 0 48 48",children:b("React").jsx("path",{d:"M25 31c.7-.1 1.3-.3 1.9-.6l-.5-.9c-.6.3-1.2.5-1.9.5-2.5 0-4.5 -2.2-4.5-5v-5h-1v5.2c0 3.1 2.2 5.6 5 5.8v3h-3v1h7v-1h-3v-3z m-.5-2c.5 0 1-.1 1.4-.3L21 20.6v4.9c0 1.9 1.6 3.5 3.5 3.5z m-5.8-16l-.9.5L30.3 34l.9-.5L18.7 13zM30 25.2V20h-1v5c0 .8-.2 1.6-.5 2.2l.6 1c.6-.8.9-1.9.9-3zm-2 .3v-9c0-1.9-1.6-3.5-3.5 -3.5-1.5 0-2.7.9-3.2 2.2L28 26.3v-.8z"})})})};e.exports=a}),null);
__d("RTCCallControlsPushToTalkButton.react",["cx","fbt","React","RTCCallActions","RTCCallControlsButton.react","RTCHotKeys","RTCHotKeysConfig","RTCPushToTalkIcon.react","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("RTCHotKeysConfig").RTCHotKey;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isPushKeyEnabled:!0},d.$2=function(a){__p&&__p();if(!d.props.isAudioMuted&&d.state.isPushKeyEnabled)return!1;if(a.type==="keydown"&&d.state.isPushKeyEnabled){d.setState(function(a){return{isPushKeyEnabled:!a.isPushKeyEnabled}});b("RTCCallActions").toggleMuteAudio(!0);return!0}if(a.type==="keyup"){d.setState({isPushKeyEnabled:!0});b("RTCCallActions").toggleMuteAudio(!1);return!0}return!1},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.isAudioMuted,c=this.state.isPushKeyEnabled;if(!a&&!c)return null;if(!a&&c)return null;a=h._("Presiona M para hablar");return b("React").jsx(b("RTCCallControlsButton.react"),{className:"pushToTalk icon-48",disabled:!0,labelIsHidden:!1,onClick:b("emptyFunction"),title:a,children:b("React").jsx(b("RTCPushToTalkIcon.react"),{})})};d.componentDidMount=function(){this.$1=b("RTCHotKeys").register(i.PUSH_TO_TALK,b("emptyFunction"),this.$2)};d.componentWillUnmount=function(){this.$1&&this.$1.remove()};return c}(b("React").PureComponent);e.exports=a}),null);
__d("RTCSettingsAudioOutputPreview.react",["cx","Promise","FBRTCLogger","FBRTCUtils","MercurySoundsConfig","React","ShimButton.react","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={currentTime:0,disabled:!0,duration:0,playing:!1},d.$5=function(){var a=d.$1;if(!a||d.state.disabled)return;d.state.playing?(a.pause(),a.currentTime=0,d.$11()):(d.setState({disabled:!0}),b("promiseDone")(b("Promise").resolve(a.play()),function(){return d.setState({disabled:!1})}))},d.$12=function(a){a&&(d.$2=a)},d.$13=function(a){a&&(a.volume=.3,d.$1=a)},d.$14=function(a){a=a.target;d.setState({disabled:!1,duration:a.duration})},d.$15=function(){window.clearInterval(d.$3);d.setState({playing:!0,currentTime:0});var a=Date.now(),b=function(){return d.setState({currentTime:(Date.now()-a)/1e3})};b();d.$3=window.setInterval(b,40)},d.$11=function(){window.clearInterval(d.$3),d.$3=window.setTimeout(function(){return d.setState({playing:!1,currentTime:0})},250)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsxs(b("ShimButton.react"),{className:"_7bn0",onClick:this.$5,tabIndex:0,children:[this.$6(),this.$7(),this.$8(),this.$9(),this.$10()]})};d.$6=function(){return b("React").jsx("audio",{ref:this.$12,autoPlay:!0})};d.$7=function(){return b("React").jsxs("audio",{ref:this.$13,autoPlay:!1,loop:!1,preload:"auto",onDurationChange:this.$14,onPlay:this.$15,onEnded:this.$11,children:[b("React").jsx("source",{src:b("MercurySoundsConfig").settings_preview_sound_mp3_url,type:"audio/mpeg"}),b("React").jsx("source",{src:b("MercurySoundsConfig").settings_preview_sound_ogg_url,type:"audio/ogg"})]})};d.$8=function(){var a=this.state.playing?b("React").jsx("path",{d:"M7 5h2v10H7V5zm4 0h2v10H11V5z"}):b("React").jsx("path",{d:"M7 6l6 4-6 4"});return b("React").jsx("svg",{className:"_7bn1 button",viewBox:"0 0 20 20",children:a})};d.$9=function(){var a=this.state,c=a.duration;a=a.currentTime;return b("React").jsx("div",{className:"_7bm4",children:b("React").jsx("div",{className:"_7bm5",style:{transform:"scaleX("+(c?a/c:0)+")"}})})};d.$10=function(){var a=this.state.playing?this.state.currentTime:this.state.duration;return b("React").jsx("div",{className:"_7bn1 text",children:Math.floor(a)+"s"})};d.componentDidMount=function(){var a=this,b=this.props,c=b.sinkID;b=b.mediaStream;this.$16(b);this.$4=window.setTimeout(function(){return a.$17(c)},1e3)};d.componentDidUpdate=function(a){var b=this.props,c=b.sinkID;b=b.mediaStream;b!==a.mediaStream?(this.$16(b),this.$17(c)):c!==a.sinkID&&this.$17(c)};d.$16=function(a){this.$2&&a&&b("FBRTCUtils").attachMediaStream(this.$2,a)};d.$17=function(a){window.clearTimeout(this.$4);if(!this.$18()||!a)return;[this.$2,this.$1].reduce(function(b,c){return c?b.then(function(){return c.setSinkId(a)}):b},b("Promise").resolve())["catch"](function(a){})};d.$18=function(){var a=HTMLAudioElement;a=a.prototype;return"sinkId"in a&&typeof a.setSinkId==="function"};d.componentWillUnmount=function(){this.$1&&this.$1.pause(),window.clearInterval(this.$3),window.clearTimeout(this.$4),this.$2=null,this.$1=null};return c}(a);c.defaultProps={sinkID:null};e.exports=c}),null);
__d("RTCSettingsDialog.react",["cx","fbt","FBRTCConfig","FBRTCLogger","FBRTCUtils","FBRTCVideo.react","Link.react","React","RTCDialog.react","RTCDialogBody.react","RTCDialogHeader.react","RTCDialogHeaderButton.react","RTCHotKeysConfig","RTCP2PProtocolHandler","RTCSettingsAudioInputPreview.react","RTCSettingsAudioOutputPreview.react","RTCSettingsMediaDeviceSelector.react","RTCUserMediaConstraints","RTCUserSettingsActions","RTCUtils","RTWebUserActionLogger","SUIMessengerRTCLightTheme","SUIText.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={audioInput:d.props.audioInput,audioOutput:d.props.audioOutput,mediaStream:null,videoInput:d.props.videoInput},d.$2=function(){b("RTCUserSettingsActions").cancel(),b("RTWebUserActionLogger").logClick({surface:"setting_dialog",component:"cancel_button"}),d.props.onHideDialog()},d.$3=function(){var a=d.state,c=a.audioInput,e=a.audioOutput;a=a.videoInput;b("RTCUserSettingsActions").save({audioInput:c,audioOutput:e,videoInput:a});b("RTWebUserActionLogger").logClick({surface:"setting_dialog",component:"save_button"});d.props.onHideDialog()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){b("RTCUserSettingsActions").edit(),b("RTWebUserActionLogger").logImpression({surface:"setting_dialog"}),this.$1()["catch"](s)};d.componentWillUnmount=function(){var a=this.state.mediaStream;a&&b("RTCUtils").stopMediaStream(a)};d.render=function(){var a=this;return!this.props.devices?null:b("React").jsxs(b("RTCDialog.react"),{label:"Video and audio call settings",onToggle:this.props.onHideDialog,width:564,children:[b("React").jsx(n,{onCancel:this.$2,onSave:this.$3}),b("React").jsxs(b("RTCDialogBody.react"),{children:[this.props.isAudioOnly?null:b("React").jsx(i,{devices:this.props.devices,mediaStream:this.state.mediaStream,onVideoInputChange:function(b){return a.$4({videoInput:b})},selectedVideoInput:this.state.videoInput}),b("React").jsx(j,{devices:this.props.devices,mediaStream:this.state.mediaStream,onAudioInputChange:function(b){return a.$4({audioInput:b})},selectedAudioInput:this.state.audioInput}),b("FBRTCUtils").supportsSetSink()?b("React").jsx(k,{devices:this.props.devices,mediaStream:this.props.remoteStream,onAudioOutputChange:function(b){return a.$4({audioOutput:b})},selectedAudioOutput:this.state.audioOutput}):null,b("React").jsx(l,{}),b("React").jsx(o,{})]})]})};d.$4=function(a){var b=this;this.setState(a,function(){b.$1()["catch"](s)})};d.$1=function(){var a=this,c=this.state,d=c.audioInput,e=c.mediaStream;c=c.videoInput;return b("RTCUtils").getUserMedia({audio:b("RTCUserMediaConstraints").audio(d),video:this.props.isAudioOnly?!1:b("RTCUserMediaConstraints").video(b("RTCP2PProtocolHandler").getDefaultVideoQuality(),c)}).then(function(c){e&&b("RTCUtils").stopMediaStream(e),a.setState({mediaStream:c})})};return c}(b("React").PureComponent);var i=function(a){return b("React").jsxs(p,{className:"_10mn",children:[b("React").jsx(q,{children:b("React").jsx(r,{children:h._("C\u00e1mara")})}),b("React").jsx(q,{children:b("React").jsx(b("RTCSettingsMediaDeviceSelector.react"),{devices:b("RTCUtils").filterDevicesByKind(a.devices,"videoinput"),onChange:a.onVideoInputChange,value:a.selectedVideoInput,width:212})}),b("React").jsx(q,{children:b("React").jsx(b("FBRTCVideo.react"),{className:"_10mo",mediaStream:a.mediaStream,muted:!0})})]})},j=function(a){return b("React").jsxs(p,{className:"_10mn",children:[b("React").jsx(q,{children:b("React").jsx(r,{children:h._("Micr\u00f3fono")})}),b("React").jsx(q,{children:b("React").jsx(b("RTCSettingsMediaDeviceSelector.react"),{devices:b("RTCUtils").filterDevicesByKind(a.devices,"audioinput"),onChange:a.onAudioInputChange,value:a.selectedAudioInput,width:212})}),b("React").jsx(q,{children:b("React").jsx(b("RTCSettingsAudioInputPreview.react"),{mediaStream:a.mediaStream})})]})},k=function(a){return b("React").jsxs(p,{className:"_10mn",children:[b("React").jsx(q,{children:b("React").jsx(r,{children:h._("Salida de audio")})}),b("React").jsx(q,{children:b("React").jsx(b("RTCSettingsMediaDeviceSelector.react"),{devices:b("RTCUtils").filterDevicesByKind(a.devices,"audiooutput"),onChange:a.onAudioOutputChange,value:a.selectedAudioOutput,width:212})}),b("React").jsx(q,{children:b("React").jsx(b("RTCSettingsAudioOutputPreview.react"),{mediaStream:a.mediaStream,sinkID:a.selectedAudioOutput})})]})},l=function(){var a=b("RTCHotKeysConfig").getSupportedHotKeys();return b("React").jsxs(p,{className:"_10mn",children:[b("React").jsx(q,{children:b("React").jsx(r,{children:h._("M\u00e9todos abreviados de teclado")})}),b("React").jsx("div",{className:"_6zxh",children:a.slice(0,Math.ceil(a.length/2)).map(function(a,c){return b("React").jsx(m,{keyConfig:a},c)})}),b("React").jsx("div",{className:"_6zxh",children:a.slice(Math.ceil(a.length/2),a.length).map(function(a,c){return b("React").jsx(m,{keyConfig:a},c)})})]})},m=function(a){a=a.keyConfig;var c=(a.altKey?"Alt + ":"")+a.key.toUpperCase();return b("React").jsxs("div",{className:"_6zxi",children:[b("React").jsx(b("SUIText.react"),{color:"placeholder",size:"body1",theme:b("SUIMessengerRTCLightTheme"),children:a.label}),b("React").jsx(b("SUIText.react"),{color:"placeholder",size:"body1",theme:b("SUIMessengerRTCLightTheme"),children:c})]},a.label)},n=function(a){return b("React").jsxs(b("RTCDialogHeader.react"),{children:[b("React").jsx("h1",{className:"_10mm",children:h._("Configuraci\u00f3n")}),b("React").jsx(b("RTCDialogHeaderButton.react"),{label:h._("Cancelar"),onClick:a.onCancel}),b("React").jsx(b("RTCDialogHeaderButton.react"),{"data-testid":"saveSettingsButton",label:h._("Guardar"),onClick:a.onSave})]})},o=function(){return b("React").jsxs("footer",{className:"_10mv _10mn",children:[b("React").jsx(q,{children:b("React").jsx(b("SUIText.react"),{color:"placeholder",size:"header4",theme:b("SUIMessengerRTCLightTheme"),children:h._("Consejo: Si tienes problemas con la c\u00e1mara o el micr\u00f3fono, reinicia el navegador.")})}),b("React").jsx(q,{children:b("React").jsx(b("SUIText.react"),{color:"blueLink",size:"header4",theme:b("SUIMessengerRTCLightTheme"),children:b("React").jsx(b("Link.react"),{href:b("FBRTCConfig").userMediaErrorUrl(),target:"_blank",children:h._("Obtener ayuda")})})})]})},p=function(a){var c=a.children,d=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className"]);return b("React").jsx("section",babelHelpers["extends"]({className:b("joinClasses")(d,"_10mx")},a,{children:c}))},q=function(a){var c=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);return b("React").jsx("div",babelHelpers["extends"]({className:"_10my"},a,{children:c}))},r=function(a){a=a.children;return b("React").jsx(b("SUIText.react"),{color:"placeholder",size:"header3",theme:b("SUIMessengerRTCLightTheme"),children:a})};function s(a){}e.exports=a}),null);
__d("RTCSettingsContainer.react",["FluxContainer","React","RTCAppDispatcher","RTCCallStore","RTCCallType","RTCMediaDevicesStore","RTCP2PCallStore","RTCSettingsDialog.react","RTCUserSettingsStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(d){d=a.call(this,d)||this;b("RTCAppDispatcher").explicitlyRegisterStores([].concat(c.getStores()));b("RTCMediaDevicesStore").refresh();return d}c.getStores=function(){return[b("RTCMediaDevicesStore"),b("RTCCallStore"),b("RTCP2PCallStore"),b("RTCUserSettingsStore")]};c.calculateState=function(){var a=b("RTCCallStore").getState();a=a.remoteUsers;var c=b("RTCP2PCallStore").getState();c=c.callType;var d=b("RTCUserSettingsStore").getState(),e=d.audioInput,f=d.audioOutput;d=d.videoInput;a=a?a.first():null;return{audioInput:e,audioOutput:f,devices:b("RTCMediaDevicesStore").getState(),isAudioOnly:c===b("RTCCallType").AUDIO_ONLY,remoteStream:a?a.streams.first():null,videoInput:d}};var d=c.prototype;d.render=function(){return b("React").jsx(b("RTCSettingsDialog.react"),babelHelpers["extends"]({},this.props,this.state))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("RTCUISettingsCogIcon.react",["React","RTCSVGIcon.react","RTCSVGIconDropShadowFilter.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1="",c.$2=function(a){a&&(c.$1=a.getURL(),c.forceUpdate())},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.variant,d=a.shadow;a=babelHelpers.objectWithoutPropertiesLoose(a,["variant","shadow"]);return d?b("React").jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:b("React").jsxs("svg",{viewBox:"0 0 50 50",children:[b("React").jsx("defs",{children:b("React").jsx(b("RTCSVGIconDropShadowFilter.react"),{height:24,ref:this.$2,width:24})}),b("React").jsx("g",{filter:this.$1,children:b("React").jsx(g,{variant:c})})]})})):b("React").jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:b("React").jsx("svg",{viewBox:"0 0 50 50",children:b("React").jsx(g,{variant:c})})}))};return c}(b("React").PureComponent);a.defaultProps={variant:"outline"};var g=function(a){a=a.variant;return a==="outline"?b("React").jsxs("g",{strokeWidth:"2",children:[b("React").jsx("path",{d:"M34.1 23.4l-1.4-.2c-1.1-.2-1.7-1.5-1-2.4l.8-1.1c.3-.4.3-1-.1-1.3l-.9-.9c-.3-.4-.9-.4-1.3-.1l-1.1.8c-.9.7-2.2.1-2.4-1l-.2-1.4c-.1-.5-.5-.9-1-.9h-1.3c-.5 0-.9.4-1 .9l-.2 1.4c-.2 1.1-1.5 1.7-2.4 1l-1.1-.8c-.4-.3-1-.3-1.3.1l-.9.9c-.3.4-.4.9-.1 1.3l.8 1.1c.7.9.1 2.2-1 2.4l-1.4.2c-.5.1-.9.5-.9 1v1.3c0 .5.4.9.9 1l1.4.2c1.1.2 1.7 1.5 1 2.4l-.8 1.1c-.3.4-.3 1 .1 1.3l.9.9c.3.4.9.4 1.3.1l1.1-.8c.9-.7 2.2-.1 2.4 1l.2 1.4c.1.5.5.9 1 .9h1.3c.5 0 .9-.4 1-.9l.2-1.4c.2-1.1 1.5-1.7 2.4-1l1.1.8c.4.3 1 .3 1.3-.1l.9-.9c.4-.4.4-.9.1-1.3l-.8-1.1c-.7-.9-.1-2.2 1-2.4l1.4-.2c.5-.1.9-.5.9-1v-1.3c0-.5-.4-1-.9-1z",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),b("React").jsx("circle",{cx:"25",cy:"25",fill:"none",r:"3.5"})]}):b("React").jsx("path",{d:"M34.2 22.9l-1.4-.2c-.4-.1-.6-.3-.8-.6-.1-.3-.1-.7.1-1L33 20c.4-.6.4-1.4-.1-2l-.9-.9c-.3-.3-.7-.4-1.1-.4-.3 0-.6.1-.9.3l-1.1.8c-.2.1-.4.2-.6.2-.4 0-.9-.3-1-.9l-.2-1.4c-.1-.7-.7-1.3-1.5-1.3h-1.3c-.7 0-1.4.5-1.5 1.3l-.2 1.4c-.1.6-.6.9-1 .9-.2 0-.4-.1-.6-.2l-1-.8c-.3-.2-.6-.3-.9-.3-.4 0-.8.2-1.1.4l-.9.9c-.5.5-.6 1.4-.1 2l.8 1.1c.2.3.3.6.1 1-.1.3-.4.6-.8.6l-1.4.2c-.7.1-1.3.7-1.3 1.5v1.3c0 .7.5 1.4 1.3 1.5l1.4.2c.3.1.6.3.8.6s.1.7-.1 1l-.8 1c-.4.6-.4 1.4.1 2l.9.9c.3.3.7.4 1.1.4.3 0 .6-.1.9-.3l1.1-.8c.2-.1.4-.2.6-.2.4 0 .9.3 1 .9l.2 1.4c.1.7.7 1.3 1.5 1.3h1.3c.7 0 1.4-.5 1.5-1.3l.2-1.4c.1-.6.6-.9 1-.9.2 0 .4.1.6.2l1 .8c.3.2.6.3.9.3.4 0 .8-.2 1.1-.4l.9-.9c.5-.5.6-1.4.1-2l-.8-1.1c-.2-.3-.3-.7-.1-1 .1-.3.4-.6.8-.6l1.4-.2c.7-.1 1.3-.7 1.3-1.5v-1.3c-.1-.7-.6-1.3-1.4-1.4zM25 28.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5z"})};e.exports=a}),null);
__d("RTCCallControlsShowSettingsButton.react",["cx","fbt","FBRTCUserSettings","FluxContainer","React","RTCAppDispatcher","RTCCallControlsButton.react","RTCCallNUXActions","RTCCallNUXStore","RTCCallStore","RTCHotKeys","RTCHotKeysConfig","RTCSettingsContainer.react","RTCUISettingsCogIcon.react","RTWebUserActionLogger","XUIAmbientNUX.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i=b("RTCHotKeysConfig").RTCHotKey;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("RTCCallNUXStore")]};c.calculateState=function(a){a===void 0&&(a={highlighted:!1,pressed:!1});return babelHelpers["extends"]({},a,{showNux:b("RTCCallNUXStore").getState().showSettingsNUX})};function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$3=function(){if(!b("FBRTCUserSettings").isEnabled())return;var a=babelHelpers.assertThisInitialized(d);a=a.context;a&&a.dialogShow&&a.dialogHide&&(a.dialogShow(b("React").jsx(b("RTCSettingsContainer.react"),{onHideDialog:d.$4})),d.setState({highlighted:!0}));d.state.showNux&&j();a=b("RTWebUserActionLogger").getWebLoggerInfoFromStore(b("RTCCallStore").getState());b("RTWebUserActionLogger").logClick(babelHelpers["extends"]({},a,{callType:b("RTWebUserActionLogger").getCallType(!d.props.isP2P),component:"settings",surface:"call_controls"}))};d.$4=function(){d.setState({highlighted:!1}),d.context.dialogHide()};b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallNUXStore")]);return d}var d=c.prototype;d.render=function(){__p&&__p();var a=this,c=this.state,d=c.highlighted;c=c.pressed;var e=this.props,f=e.isAudioOnly;e=e.className;c=d?c?"outline":"filled":c?"filled":"outline";return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("RTCCallControlsButton.react"),{className:b("joinClasses")("transparent icon-50",e),"data-testid":"settingsButton",highlighted:d,onClick:this.$3,onMouseDown:function(){return a.setState({pressed:!0})},onMouseUp:function(){return a.setState({pressed:!1})},ref:function(b){return a.$2=b},title:h._("Configuraci\u00f3n"),children:b("React").jsx(b("RTCUISettingsCogIcon.react"),{shadow:!f,variant:c})}),b("React").jsx(k,{contextRef:function(){return a.$2},shown:this.state.showNux})]})};d.componentDidMount=function(){this.$5();var a=b("RTWebUserActionLogger").getWebLoggerInfoFromStore(b("RTCCallStore").getState());b("RTWebUserActionLogger").logImpression(babelHelpers["extends"]({},a,{callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:"settings",surface:"call_controls"}));this.$1=b("RTCHotKeys").register(i.SETTINGS,this.$3)};d.componentDidUpdate=function(){this.$5()};d.$5=function(){this.state.showNux&&b("RTCCallNUXActions").markNUXViewed(4776)};d.componentWillUnmount=function(){var a=this.context;this.state.highlighted&&a&&a.dialogHide&&a.dialogHide();this.$1&&this.$1.remove()};return c}(b("React").PureComponent);c.contextTypes={dialogShow:a.func,dialogHide:a.func};function j(){b("RTCCallNUXActions").dismissNUX(4776)}var k=function(a){return b("React").jsx(b("XUIAmbientNUX.react"),babelHelpers["extends"]({alignment:"right",onCloseButtonClick:j,position:"below",width:"auto"},a,{children:h._("Cambia los dispositivos de micr\u00f3fono, c\u00e1mara y altavoz")}))};e.exports=b("FluxContainer").create(c)}),null);
__d("RTCP2PAppViewHeader.react",["cx","FBRTCConfig","FBRTCUserSettings","JSResource","React","RTCAppViewHeader.react","RTCCallControls.react","RTCCallControlsChatButton.react","RTCCallControlsPopOutScreenContentButton.react","RTCCallControlsPushToTalkButton.react","RTCCallControlsShowSettingsButton.react","RTCCallControlsToggleFullScreenButton.react","RTCCallNUXStore","RTCP2PCallStore","RTWebCollabClientFeatureGating","UserAgent","lazyLoadComponent","BootloaderResource"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("lazyLoadComponent")(b("JSResource")("RTCCallControlsShowCameraControlsButton.react").__setRef("RTCP2PAppViewHeader.react")),i=b("lazyLoadComponent")(b("JSResource")("RTCMediaStateController.react").__setRef("RTCP2PAppViewHeader.react")),j=b("lazyLoadComponent")(b("JSResource")("RTCCallControlsMeetingRosterContainer.react").__setRef("RTCP2PAppViewHeader.react")),k=b("lazyLoadComponent")(b("JSResource")("RTCDtmfController.react").__setRef("RTCP2PAppViewHeader.react"));a=function(a){var c=a.callID,d=a.conferenceName,e=a.conferenceState,f=a.isAudioCall,g=a.isScreenContentPoppedOut,o=a.remoteUser,p=!n({callID:c,conferenceName:d,conferenceState:e,isAudioCall:f,isScreenContentPoppedOut:g,remoteUser:o});b("FBRTCConfig").isVCEndpointCall()&&(b("BootloaderResource").preload(b("JSResource")("RTCMediaStateController.react").__setRef("RTCP2PAppViewHeader.react")),b("BootloaderResource").preload(b("JSResource")("RTCDtmfController.react").__setRef("RTCP2PAppViewHeader.react")),b("BootloaderResource").preload(b("JSResource")("RTCCallControlsShowCameraControlsButton.react").__setRef("RTCP2PAppViewHeader.react")),b("BootloaderResource").preload(b("JSResource")("RTCCallControlsMeetingRosterContainer.react").__setRef("RTCP2PAppViewHeader.react")));switch(e){case"AWAITING_USER_START":return b("FBRTCConfig").isVCEndpointCall()?b("React").jsx(b("RTCAppViewHeader.react"),babelHelpers["extends"]({isAudioCall:f},{children:b("React").jsxs(b("RTCCallControls.react"),babelHelpers["extends"]({compact:!0},{autoHide:p},{children:[b("React").jsx(b("RTCCallControlsToggleFullScreenButton.react"),{isAudioOnly:f}),b("React").jsx(m,{isAudioOnly:f,peer:o}),b("React").jsx(b("RTCCallControlsChatButton.react"),{conferenceState:e,isP2P:!0})]}))})):b("React").jsx(l,{autoHide:p,callID:c,conferenceName:d,conferenceState:e,isAudioCall:f});case"CONNECTED":var q=b("RTWebCollabClientFeatureGating").showPushToTalk();return b("React").jsx(b("RTCAppViewHeader.react"),babelHelpers["extends"]({isAudioCall:f},{children:b("React").jsxs(b("RTCCallControls.react"),babelHelpers["extends"]({compact:!0},{autoHide:p},{children:[q?b("React").jsx("div",{className:"_6zx7",children:b("React").jsx(b("RTCCallControlsPushToTalkButton.react"),{isAudioMuted:a.localUser.isAudioMuted()})}):null,o&&o.hasScreenStream()?b("React").jsx(b("RTCCallControlsPopOutScreenContentButton.react"),{mediaStream:g?null:o.getScreenStream(),surface:"call_container"}):null,b("FBRTCConfig").isVCEndpointCall()?b("React").jsxs(b("React").Suspense,{fallback:null,children:[b("React").jsx(h,{}),b("React").jsx(i,{}),b("React").jsx(k,{})]}):null,b("React").jsx(b("RTCCallControlsToggleFullScreenButton.react"),{isAudioOnly:f}),b("React").jsx(m,{isAudioOnly:f,peer:o}),b("RTWebCollabClientFeatureGating").showParticipantsRoster()?b("React").jsx(j,{}):null,b("React").jsx(b("RTCCallControlsChatButton.react"),{conferenceState:e,isP2P:!0})]}))}));default:return b("React").jsx(l,{autoHide:p,callID:c,conferenceName:d,conferenceState:e,isAudioCall:f})}};var l=function(a){var c=a.autoHide;a.callID;a.conferenceName;var d=a.conferenceState;a=a.isAudioCall;return b("React").jsx(b("RTCAppViewHeader.react"),babelHelpers["extends"]({isAudioCall:a},{children:b("React").jsx(b("RTCCallControls.react"),babelHelpers["extends"]({compact:!0},{autoHide:c},{children:b("React").jsx(b("RTCCallControlsChatButton.react"),{conferenceState:d,isP2P:!0})}))}))},m=function(a){var c=a.isAudioOnly;a=a.peer;var d=b("RTCP2PCallStore").getState();d=d.isPeerOnMobile;d=d&&b("UserAgent").isBrowser("Firefox");d=b("FBRTCUserSettings").isEnabled()&&!d;return d?b("React").jsx(b("RTCCallControlsShowSettingsButton.react"),{isAudioOnly:c,isP2P:!0,remoteStream:a?a.streams.first():null}):null};function n(a){__p&&__p();a.callID;a.conferenceName;var c=a.conferenceState,d=a.isAudioCall,e=a.isScreenContentPoppedOut;a=a.remoteUser;if(d)return!0;if(c!=="CONNECTED")return!1;d=b("RTCCallNUXStore").getState();c=d.showRemoteCameraControlsNUX;var f=d.showRemoteScreenContentPopOutNUX,g=d.showRemoteStreamsSliderNUX;d=d.showSettingsNUX;return d||b("FBRTCConfig").isVCEndpointCall()&&c||!!a&&a.hasScreenStream()&&!e&&(g||f)}e.exports=a}),null);
__d("RTCP2PAppView.react",["cx","CssBackgroundImage.react","FBRTCPoorNetworkNotification.react","MercuryIDs","MessengerParticipants.bs","React","RTCAppSpinner.react","RTCAppView.react","RTCAppViewFooter.react","RTCAppViewHeader.react","RTCAppViewMain.react","RTCConferenceState","RTCGrantUserMediaAccessView.react","RTCP2PAppViewContentContainer.react","RTCP2PAppViewFooterContainer.react","RTCP2PAppViewHeader.react","RTCP2PCallActions","RTCPeerConnectionStats.react","RTCUserMediaRequestState","RTWebClientFeatureGating"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=a.callID,d=a.conferenceName,e=a.conferenceState,f=a.initializeVideo,g=a.isAudioCall,h=a.isScreenContentPoppedOut,i=a.isPoorNetworkQualityShown,j=a.localUser,k=a.remoteUser,l=a.userMediaRequest;switch(l.state){case b("RTCUserMediaRequestState").PENDING:case b("RTCUserMediaRequestState").REJECTED:return b("React").jsxs(b("RTCAppView.react"),{isAudioCall:g,children:[b("React").jsx(b("RTCAppViewHeader.react"),{isAudioCall:g}),b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!0,children:b("React").jsx(b("RTCGrantUserMediaAccessView.react"),{isAudioCall:g,userMediaRequest:l})}),b("React").jsx(b("RTCAppViewFooter.react"),{})]});case b("RTCUserMediaRequestState").FULFILLED:l=b("MercuryIDs").getParticipantIDFromUserID(a.remoteUserFBID);l=b("MessengerParticipants.bs").getNow(l);return b("React").jsxs(b("RTCAppView.react"),{isAudioCall:g&&!a.acceptedEscalation,children:[b("RTWebClientFeatureGating").callUnification()?b("React").jsx(b("CssBackgroundImage.react"),{backgroundPosition:"center center",className:"_6qmp",height:"100%",imageURI:l.image_src,width:"100%"}):null,b("React").jsx(b("RTCP2PAppViewHeader.react"),{callID:c,conferenceName:d,conferenceState:e,isAudioCall:g,isScreenContentPoppedOut:h,localUser:j,remoteUser:k}),b("React").jsx(b("RTCP2PAppViewContentContainer.react"),{conferenceName:a.conferenceName,conferenceState:e,connectionStatus:a.connectionStatus,endCallReason:a.endCallReason,isAudioCall:g,isScreenContentPoppedOut:h,remoteUser:k}),b("React").jsx(b("RTCP2PAppViewFooterContainer.react"),{callID:c,canPeerReceiveScreenSharing:a.canPeerReceiveScreenSharing,conferenceName:d,conferenceState:e,hasRemoteScreenStream:k?k.hasScreenStream():!1,initializeVideo:f,isAudioCall:g,localUser:a.localUser,remotePeerName:k?k.userName:"",remoteUserID:k?k.FBID:"",shouldHideCloseButton:a.shouldHideCloseButton}),b("RTWebClientFeatureGating").shouldShowNetworkQualityIndicator()?b("React").jsx(b("FBRTCPoorNetworkNotification.react"),{onClick:function(){b("RTCP2PCallActions").togglePoorNetworkQualityIndicator(!1)},shown:i&&(g||j.isVideoMuted())&&e==="CONNECTED"}):null,b("React").jsx(b("RTCPeerConnectionStats.react"),{connection:a.connection,style:{marginBottom:40}})]});default:return b("React").jsxs(b("RTCAppView.react"),{isAudioCall:g,children:[b("React").jsx(b("RTCAppViewHeader.react"),{isAudioCall:g}),b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!0,children:b("React").jsx(b("RTCAppSpinner.react"),{})}),b("React").jsx(b("RTCAppViewFooter.react"),{})]})}};e.exports=a}),null);
__d("RTCP2PAppViewContainer.react",["FBRTCScreenSharingUtils","FluxContainer","React","RTCAppDispatcher","RTCP2PAppView.react","RTCP2PCallEscalationStore","RTCP2PCallStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("RTCP2PCallEscalationStore"),b("RTCP2PCallStore")]};c.calculateState=function(){var a=b("RTCP2PCallStore").getState(),c=a.connectionStatus,d=a.endCallReason,e=a.isPoorNetworkQualityShown,f=a.isScreenContentPoppedOut;a=a.signalingExperiments;return{acceptedEscalation:b("RTCP2PCallEscalationStore").getState().response,connectionStatus:c,endCallReason:d,canPeerReceiveScreenSharing:b("FBRTCScreenSharingUtils").canPeerReceiveScreenSharing(a),isAudioCall:b("RTCP2PCallStore").isAudioOnly(),isScreenContentPoppedOut:f,isPoorNetworkQualityShown:e}};function c(){var d;d=a.call(this)||this;b("RTCAppDispatcher").explicitlyRegisterStores([].concat(c.getStores()));return d}var d=c.prototype;d.render=function(){return b("React").jsx(b("RTCP2PAppView.react"),babelHelpers["extends"]({},this.props,this.state))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("RTCP2PUnloadHandler",["FBRTCCallSummaryStore","FBRTCConstants","RTCCallStore","RTCP2PCallStore","RTCUserMediaRequestState","RTWebUserActionLogger","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=b("RTCCallStore").getState(),d=c.callInfo;c=c.callSummary;if(d.conferenceState==="TERMINATED")return;if(d.conferenceState==="NEW"||d.conferenceState==="AWAITING_USER_START"){c.onCallEnded(b("FBRTCConstants").CallEndReason.HANGUP_CALL,!1,null,"DidNotInitiate");c.save(b("FBRTCCallSummaryStore").getInstance());return}d=b("FBRTCConstants").CallEndReason.HANGUP_CALL;c="BrowserClosed";if(a.state===b("RTCUserMediaRequestState").PENDING)d=b("FBRTCConstants").CallEndReason.CLIENT_ERROR,c="MediaPending";else if(a.state===b("RTCUserMediaRequestState").REJECTED){a=a.error;d=b("FBRTCConstants").CallEndReason.CLIENT_ERROR;c=!a||a.name==="NotAllowedError"?"MediaDenied":a.getEndCallSubReason()}a=b("RTCP2PCallStore").getState();a=a.protocolHandler;b("gkx")("896198")?(b("RTWebUserActionLogger").logCheckpoint({checkpoint:"async onunload endcall"}),a.endCall(d,c,!1)):(b("RTWebUserActionLogger").logCheckpoint({checkpoint:"sync onunload endcall"}),a.endCall(d,c,!0))}e.exports={handleUnload:a}}),null);
__d("RTWebGetUserMediaWithRetryOnPermissionChange",["Promise","DateConsts","UserAgent","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=2*b("DateConsts").MS_PER_SEC;function h(a,c,d,e){__p&&__p();return d()["catch"](function(f){__p&&__p();e&&e(f);var i=window.navigator.permissions;if(b("UserAgent").isBrowser("Chrome")&&i&&i.query)return new(b("Promise"))(function(a,b){__p&&__p();i.query({name:"microphone"}).then(function(e){if(e.state==="granted"){b(f);return}var h=window.setTimeout(function(){return b(f)},c*g);e.onchange=function(){e.state==="granted"&&(window.clearTimeout(h),a(d()))}})["catch"](function(a){throw f})});else return new(b("Promise"))(function(e,i){f.name==="NotAllowedError"&&a<c?window.setTimeout(function(){h(a+1,c,d,b("emptyFunction")).then(function(a){return e(a)})["catch"](function(a){return i(a)})},g):i(f)})})}a={gen:function(a,b,c){return h(0,a,b,c)}};e.exports=a}),null);
__d("RTCP2PCallView.react",["cx","fbt","PageHooks","Bootloader","CSS","FBRTCConfig","FBRTCConstants","FBRTCLogger","FBRTCMessageListener","FBRTCStatsHelpers","FBRTCSupport","MercuryIDs","MessengerBugNub.react","React","RTCAppView.react","RTCCallActions","RTCCallInitUtils","RTCCallStore","RTCCallType","RTCChatViewWrapper.react","RTCEndCallQPSurface.react","RTCMediaDevices","RTCP2PAppViewContainer.react","RTCP2PCallActions","RTCP2PCallWindowHandler","RTCP2PProtocolHandler","RTCP2PUnloadHandler","RTCUserMediaErrorDialogController","RTCUserMediaRequest","RTCUserMediaRequestState","RTWebClientFeatureGating","RTWebCollabClientFeatureGating","RTWebGetUserMediaWithRetryOnPermissionChange","RTWebMobileCallView.react","RTWebUserActionLogger","Run","gkx","immutable","debounce"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();b("PageHooks");var i=b("FBRTCConstants").SignalingProtocol,j=60,k=150;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state={userMediaRequest:new(b("RTCUserMediaRequest"))()};d.$1=null;d.$2=b("FBRTCLogger").getInstance();d.$3={};d.$4={};d.$5=function(){return d.props.conferenceState==="CONNECTED"||d.props.conferenceState==="CONNECTING"?h._("Al salir de esta p\u00e1gina terminar\u00e1 la llamada."):null};d.$6=function(){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"window_unload"}),b("RTCP2PUnloadHandler").handleUnload(d.state.userMediaRequest)};d.$9=b("debounce")(function(){b("RTWebUserActionLogger").logClick({component:"window_resize",surface:"call_container"})},2e3);if(!c.allowsMWEscalation){c=d.props.conferenceName;b("RTCCallActions").initialize({protocol:i.P2P,conferenceName:c,serverInfoData:null,callID:c});b("RTCP2PCallActions").setCallType(d.props.isInitiallyAudioCall?b("RTCCallType").AUDIO_ONLY:b("RTCCallType").AUDIO_VIDEO)}b("RTCP2PCallActions").setIsCaller(d.props.isCaller);return d}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this;b("RTCP2PCallWindowHandler").init(window);b("gkx")("939162")?(this.$3=b("Run").onBeforeUnload(this.$5,!1),this.$4=b("Run").onUnload(this.$6)):(b("Run").onBeforeUnload(this.$5,!1),b("Run").onUnload(this.$6));document.documentElement!=null&&b("CSS").addClass(document.documentElement,"_2ujx");this.$2.logCallAction(this.$7(),this.$8(),b("FBRTCLogger").CallAction.POPUP_OPENED);window.addEventListener("resize",this.$9);b("RTCCallInitUtils").initializeCallSummary({peerID:this.$7(),callID:String(this.$8()),isCaller:this.props.isCaller,isAudio:this.props.isInitiallyAudioCall,protocol:b("FBRTCConstants").SignalingProtocol.P2P});this.props.protocolHandler.init(this.$7(),this.$8());var c=[this.props.localUser.FBID,this.props.remoteUserFBID];b("RTCCallInitUtils").initializeRTCUsers(c,function(){a.$1=window.setTimeout(function(){a.setState(function(a){a=a.userMediaRequest;return{userMediaRequest:a.set("state",a.state||b("RTCUserMediaRequestState").PENDING)}})},2e3),b("RTWebUserActionLogger").logStopTimer({timerName:"PreGetUserMediaRequestTimer",checkpointName:"CallStart_PreGetUserMediaRequest"}),b("RTWebUserActionLogger").startTimer("GetUserMediaRequestTimer"),a.$10().then(function(c){window.clearTimeout(a.$1),b("RTCCallActions").addLocalStream(c),b("RTWebUserActionLogger").logStopTimer({timerName:"GetUserMediaRequestTimer",checkpointName:"CallStart_GetUserMediaRequest"}),a.$11()})["catch"](l)})};d.$7=function(){return this.props.remoteUserFBID};d.$8=function(){return Number(this.props.conferenceName)};d.$12=function(){return b("RTCP2PProtocolHandler").initStream(this.props.initializeVideo)};d.$13=function(){var a=this,c=this.props.isCaller?k:j;return b("RTWebGetUserMediaWithRetryOnPermissionChange").gen(c,function(){return a.$12()},function(c){a.setState(function(a){a=a.userMediaRequest;return{userMediaRequest:a.set("error",c).set("state",b("RTCUserMediaRequestState").REJECTED)}})})};d.$10=function(){__p&&__p();var a=this;b("RTCCallStore").mutateCallSummary(function(a){return a.onMediaRequested()});var c=b("RTWebClientFeatureGating").waitForMediaPermission();return(c?this.$13():this.$12()).then(function(c){__p&&__p();var d=!a.props.isInitiallyAudioCall,e=c.getVideoTracks().length>0;if(d&&!e){b("RTCCallStore").mutateCallSummary(function(a){return a.onFellbackToAudio()});d=a.props.conferenceName;e=b("RTWebCollabClientFeatureGating").showPreCallSetup(a.props.isCaller);!e&&a.props.initializeVideo&&b("RTCUserMediaErrorDialogController").showMediaErrorDialog(!1,d)}a.setState(function(a){a=a.userMediaRequest;return{userMediaRequest:a.set("state",b("RTCUserMediaRequestState").FULFILLED)}});b("RTCCallStore").mutateCallSummary(function(a){a.onMediaSucceeded()});b("RTCMediaDevices").enumerateDevices().then(function(a){b("RTCCallStore").mutateCallSummary(function(d){b("FBRTCStatsHelpers").logCapabilities(d,c,a)})})["catch"](l);return c})["catch"](function(c){a.setState(function(a){a=a.userMediaRequest;return{userMediaRequest:a.set("error",c).set("state",b("RTCUserMediaRequestState").REJECTED)}});a.props.connectionStatus==="INIT"&&b("RTCCallStore").mutateCallSummary(function(a){return a.onCallEnded(b("FBRTCConstants").CallEndReason.CLIENT_ERROR,!1,!0,"MediaDenied: "+c.name+", "+c.constraint)});a.$14(c,"user_media_request");throw c})};d.$11=function(){var a=this;b("RTWebUserActionLogger").logCheckpoint({checkpoint:"RTCP2PCallView_startCall"});b("RTWebUserActionLogger").startTimer("fetchTurnCredentialsTimer");this.props.protocolHandler.fetchTURNCredentials().then(function(){b("RTWebUserActionLogger").logStopTimer({timerName:"fetchTurnCredentialsTimer",checkpointName:"CallStart_fetchTurnCredentialsTimer"}),m()?a.$15():a.$16()})["catch"](function(a){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"RTCP2PCallView_startCall_start_call_failed"})})};d.$16=function(){var a=this;b("RTWebUserActionLogger").startTimer("StartCall");var c=!1;b("FBRTCMessageListener").setParentWindowStartCallHandler(function(d){c=!0,a.props.protocolHandler.startCall(void 0,d),b("RTWebUserActionLogger").logStopTimer({timerName:"StartCall",checkpointName:"CallStart_StartCall"}),b("RTWebUserActionLogger").logStopTimer({timerName:"InCallStartFlowTimer",checkpointName:"CallStart_InCallStartFlowTimer"})});b("FBRTCMessageListener").init(!0,this.$7());window.setTimeout(function(){c||(b("RTWebUserActionLogger").startTimer("WaitForUserInputTimer"),b("FBRTCMessageListener").setParentWindowStartCallHandler(null),b("RTCCallActions").waitForUserInput())},1500)};d.$15=function(){b("FBRTCMessageListener").init(!0,this.$7()),this.props.protocolHandler.startCall("mweb_p2p_call",null)};d.$14=function(a,b){this.$17("get user media: error",JSON.stringify({error:a.name,constraint:a.constraint,trigger:b}))};d.$17=function(a,c){var d=this;if(!b("FBRTCConfig").isVCEndpointCall())return;b("Bootloader").loadModules(["CollabMessengerLogger"],function(b){return b.log(a,{peerID:d.props.remoteUserFBID,callID:d.$8(),eventDetails:c})},"RTCP2PCallView.react")};d.render=function(){var a=!b("RTCCallStore").hasRemoteVideo();if(m()){var c=this.props,d=c.localUser,e=c.conferenceState,f=c.protocolHandler;c=c.remoteUser;c=c!=null?b("immutable").List([c]):null;return b("React").jsx("div",{className:"_38jq _li"+(this.props.conferenceState==="TERMINATED"?" _17cj":""),children:b("React").jsx(b("RTCAppView.react"),{isAudioCall:a,children:b("React").jsx(b("RTWebMobileCallView.react"),{conferenceState:e,connectedRemoteUsersSize:1,hasVideoInput:!0,isAudioCall:a,isP2P:!0,layout:"DOMINANT_SPEAKER",localUser:d,protocolHandler:f,remoteUsers:c})})})}else return b("React").jsx(b("RTCChatViewWrapper.react"),{callerID:this.props.localUser.FBID,chatWindowVisible:this.props.chatWindowVisible,threadID:b("MercuryIDs").getThreadIDFromUserID(this.$7()),children:b("React").jsxs("div",{className:"_7q_4",children:[b("React").jsxs("div",{className:"_7q_5",children:[b("React").jsx(b("RTCP2PAppViewContainer.react"),{allowsMWEscalation:this.props.allowsMWEscalation,callID:this.$8().toString(),conferenceName:this.props.conferenceName,conferenceState:this.props.conferenceState,connection:this.props.connection,initializeVideo:this.props.initializeVideo,localUser:this.props.localUser,remoteUser:this.props.remoteUser,remoteUserFBID:this.$7(),shouldHideCloseButton:!this.props.nonce||this.isParentWindow(),userMediaRequest:this.state.userMediaRequest}),b("React").jsx(b("MessengerBugNub.react"),{isBetaEnabled:this.props.isBetaEnabled,unixName:this.props.unixName}),this.props.children]}),b("RTWebClientFeatureGating").shouldShowEndCallQPs()?b("React").jsx(b("RTCEndCallQPSurface.react"),{className:"_7q_6",conferenceState:this.props.conferenceState,visible:!this.props.chatWindowVisible&&this.props.conferenceState==="TERMINATED"}):null]})})};d.componentDidUpdate=function(a){__p&&__p();var c=this;if(a.userSettings.editing&&!this.props.userSettings.editing){var d=this.props.userSettings,e=d.audioInput;d=d.videoInput;(a.userSettings.audioInput!==e||a.userSettings.videoInput!==d)&&b("RTCP2PProtocolHandler").initStream(!this.props.isAudioCall,e,d).then(function(a){return b("RTCP2PProtocolHandler").replaceLocalStream(a,!0)})["catch"](function(a){return c.$14(a,"user_settings_changed")})}this.props.conferenceState!==a.conferenceState&&this.$2.logToConsole('UI: state change - from "'+a.conferenceState+'" to "'+this.props.conferenceState+'"');this.state.userMediaRequest.state===b("RTCUserMediaRequestState").PENDING&&this.props.connectionStatus==="INIT"&&b("RTCCallStore").mutateCallSummary(function(a){return a.onCallEnded(b("FBRTCConstants").CallEndReason.CLIENT_ERROR,!1,!0,"MediaPending")})};d.componentWillUnmount=function(){window.clearTimeout(this.$1),document.documentElement!=null&&b("CSS").removeClass(document.documentElement,"_2ujx"),window.removeEventListener("resize",this.$9),b("gkx")("939162")&&(this.$3.remove(),this.$4.remove())};d.isParentWindow=function(){return!window.opener};return c}(b("React").PureComponent);function l(a){}function m(){return b("FBRTCSupport").isMobileDevice()&&b("RTWebClientFeatureGating").canCallMWeb()}e.exports=a}),null);
__d("RTCP2PLoggerStore",["Bootloader","FBRTCConfig","FBRTCLogger","FluxReduceStore","RTCAppDispatcher","RTCCallStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return{}};d.reduce=function(a,c){__p&&__p();var d=b("RTCCallStore").getState(),e=d.remoteUsers;d=d.callInfo;if(!e.count())return a;var f=b("FBRTCLogger").getInstance();e=e.first().FBID;switch(c.type){case"AUDIO_MUTED":f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_MUTE,!0);break;case"AUDIO_UNMUTED":f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_MUTE,!1);break;case"VIDEO_MUTED":f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_VIDEO_ON,!1);break;case"VIDEO_UNMUTED":f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_VIDEO_ON,!0);break;case"SELF_VIEW_COLLAPSED":f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_SELF_VIEW_ON,!1);break;case"SELF_VIEW_UNCOLLAPSED":f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_SELF_VIEW_ON,!0);break;case"ADD_LOCAL_STREAM":this.$RTCP2PLoggerStore1("local stream: set",c.stream,e,Number(d.conferenceName));break;case"USER_SETTINGS_SAVE":case"USER_SETTINGS_SET_AUDIO_INPUT":case"USER_SETTINGS_SET_AUDIO_OUTPUT":case"USER_SETTINGS_SET_VIDEO_INPUT":f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.USER_SETTINGS_CHANGED),this.$RTCP2PLoggerStore1("user settings change",c,e,Number(d.conferenceName))}return a};d.$RTCP2PLoggerStore1=function(a,b,c,d){g(function(e){return e.log(a,{peerID:c,callID:d,eventDetails:b})})};return c}(b("FluxReduceStore"));a.__moduleID=e.id;function g(a){if(!b("FBRTCConfig").isVCEndpointCall())return;b("Bootloader").loadModules(["CollabMessengerLogger"],a,"RTCP2PLoggerStore")}e.exports=new a(b("RTCAppDispatcher"))}),null);
__d("RobotRTCOneVCLazyload.react",["CurrentUser","JSResource","React","RoboticsPermission","RoboticsRTCMeeting","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";a=function(){return b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{}),children:b("React").jsx(h,{})})};var g=b("lazyLoadComponent")(b("JSResource")("RobotRTCOneVCAutoAnswer.react").__setRef("RobotRTCOneVCLazyload.react")),h=function(){var a=b("RoboticsRTCMeeting").robot[b("CurrentUser").getID()];return!b("RoboticsPermission")||!b("RoboticsPermission").is_authorized_robot||!a?null:b("React").jsx(g,{})};e.exports=a}),null);
__d("RTCP2PCallContainer.react",["BootloadOnRender.react","ChannelManager","FBRTCConfig","FluxContainer","JSResource","LazyComponent.react","React","RobotRTCOneVCLazyload.react","RTCAppData","RTCAppDispatcher","RTCCallActions","RTCCallNUXStore","RTCCallStore","RTCCallType","RTCCoExperienceStore","RTCGroupCallEscalationStore","RTCMediaDevicesStore","RTCOneVCActions","RTCOneVCStore","RTCP2PCallActions","RTCP2PCallEscalationStore","RTCP2PCallStore","RTCP2PCallView.react","RTCP2PLoggerStore","RTCUserSettingsStore","RTWebFluxDebugger","RTWebUserActionLogger","dangerouslyBypassDispatchError","generateRTCCallID","objectValues"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("generateRTCCallID")().toString(),h={RTCCallStore:b("RTCCallStore"),RTCCoExperienceStore:b("RTCCoExperienceStore"),RTCP2PCallStore:b("RTCP2PCallStore"),RTCUserSettingsStore:b("RTCUserSettingsStore")},i=babelHelpers["extends"]({},h,{RTCCallStore:b("RTCCallStore"),RTCCoExperienceStore:b("RTCCoExperienceStore"),RTCP2PCallStore:b("RTCP2PCallStore"),RTCUserSettingsStore:b("RTCUserSettingsStore"),RTCGroupCallEscalationStore:b("RTCGroupCallEscalationStore"),RTCMediaDevicesStore:b("RTCMediaDevicesStore"),RTCP2PCallEscalationStore:b("RTCP2PCallEscalationStore"),RTCCallNUXStore:b("RTCCallNUXStore"),RTCP2PLoggerStore:b("RTCP2PLoggerStore"),RTCOneVCStore:b("RTCOneVCStore")});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return b("objectValues")(h)};c.calculateState=function(){var a=b("RTCCallStore").getState(),c=a.callInfo,d=c.conferenceState;c=c.conferenceName;var e=a.connections,f=a.localUser;a=a.remoteUsers;var g=b("RTCCoExperienceStore").getState();g=g.chatWindowVisible;var h=b("RTCP2PCallStore").getState(),i=h.callType,j=h.protocolHandler;h=h.connectionStatus;return{chatWindowVisible:g,conferenceName:c,conferenceState:d,connection:e.first(),connectionStatus:h,isAudioCall:i===b("RTCCallType").AUDIO_ONLY,localUser:f,protocolHandler:j,remoteUser:a.first(),userSettings:b("RTCUserSettingsStore").getState()}};function c(c){__p&&__p();var d;d=a.call(this,c)||this;b("ChannelManager").startChannelManagerForApp(b("RTCAppData").getChannelManagerAppName());b("RTCAppDispatcher").explicitlyRegisterStoresInMap(i);b("RTWebFluxDebugger").attach(b("RTCAppDispatcher"),i);b("RTCP2PCallActions").setCallType(d.props.isInitiallyAudioCall?b("RTCCallType").AUDIO_ONLY:b("RTCCallType").AUDIO_VIDEO);c.meetingID!=null&&b("RTCOneVCActions").setMeetingID(c.meetingID);c.meetingPassword!=null&&b("RTCOneVCActions").setMeetingPassword(c.meetingPassword);b("RTWebUserActionLogger").logCheckpoint({checkpoint:"RTCP2PCallContainer_created",callID:d.$1(),callType:"p2p",isCaller:d.props.isCaller,mediaType:b("RTWebUserActionLogger").getMediaType(d.props.isInitiallyAudioCall)});return d}var d=c.prototype;d.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({surface:"call_container",conferenceState:this.state.conferenceState})};d.componentDidUpdate=function(a,c){var d=this.state.remoteUser,e=this.props.roomLocation;if(b("FBRTCConfig").isVCEndpointCall()&&d!=null&&d.getRoomLocation()==null&&e!=null){a=b("RTCCallStore").getState();var f=a.remoteUsers;b("dangerouslyBypassDispatchError")(function(){return b("RTCCallActions").updateRemoteUsers(f["delete"](d).add(d.setRoomLocation(e)))})}};d.$1=function(){return this.state&&this.state.conferenceName||this.props.conferenceName||g};d.render=function(){var a=this.props;a.conferenceName;a.roomLocation;a.meetingID;a.meetingPassword;a=babelHelpers.objectWithoutPropertiesLoose(a,["conferenceName","roomLocation","meetingID","meetingPassword"]);return b("React").jsxs(b("RTCP2PCallView.react"),babelHelpers["extends"]({},a,this.state,{conferenceName:this.$1(),initializeVideo:this.props.initializeVideo,children:[b("React").jsx(j,{}),b("React").jsx(b("RobotRTCOneVCLazyload.react"),{})]}))};return c}(b("React").PureComponent);var j=function(){return!b("FBRTCConfig").isVCEndpointCall()?null:b("React").jsx(b("BootloadOnRender.react"),{component:b("React").jsx(b("LazyComponent.react"),{}),loader:b("JSResource")("RTCCollabActionLoggerBootloader.react").__setRef("RTCP2PCallContainer.react"),placeholder:b("React").jsx("div",{})})};e.exports=b("FluxContainer").create(a)}),null);
__d("RTCCallContainer.react",["PageHooks","FBRTCConstants","FBRTCGroupCallStore","FBRTCMWProtocolStore","FluxContainer","MercurySyncEnvironment","RTCCallNotificationContainer.react","RTCCallNotificationStore","RTCProxyUserStore","RTWebUserActionLogger","gkx","immutable","JSResource","lazyLoadComponent","MessengerBugNub.react","React","RoboticsPermission","RTCGroupCallView.react","RTCP2PCallContainer.react","RTCGroupCallEscalationStore","RTCP2PCallEscalationStore","RTCUserMediaRequest","RTCUserMediaRequestState","RTCAppDispatcher","RTCCallActions","RTCCallInitUtils","RTCCallStore","RTCCallType","RTCCoExperienceStore","RTCMediaDevicesStore","RTCP2PCallActions","RTCCallNUXStore","RTCP2PCallStore","RTCP2PLoggerStore","RTCUserSettingsStore","generateRTCCallID","MessengerCollisionContextQuery","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("PageHooks");var g=b("FBRTCConstants").SignalingProtocol,h=b("lazyLoadComponent")(b("JSResource")("RobotRTCCallStoreBootloader.react").__setRef("RTCCallContainer.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("FBRTCGroupCallStore"),b("RTCCallStore"),b("RTCGroupCallEscalationStore")]};c.calculateState=function(){var a=b("RTCGroupCallEscalationStore").getState();a=a.readyToTransition;var c=b("RTCCallStore").getState(),d=c.callInfo,e=c.connections;c=c.localUser;var f=b("FBRTCGroupCallStore").getState(),g=f.layout;f=f.participants;var h=b("RTCCallStore").getSortedRemoteUsers();return{conferenceState:d.conferenceState,connection:e.first(),layout:g,localUser:c,participants:f,remoteUsers:h,serverInfoData:d.serverInfoData,useGroupCallView:a}};function c(d){__p&&__p();d=a.call(this,d)||this;d.state=babelHelpers["extends"]({},c.calculateState());b("RTWebUserActionLogger").startTimer("InCallStartFlowTimer");b("RTWebUserActionLogger").startTimer("PreGetUserMediaRequestTimer");document.documentElement&&(document.documentElement.style.overflow="hidden");var e=[b("FBRTCGroupCallStore"),b("RTCCallNotificationStore"),b("RTCCallStore"),b("RTCP2PCallEscalationStore"),b("RTCCallNUXStore"),b("RTCP2PCallStore"),b("RTCCoExperienceStore"),b("RTCP2PLoggerStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore"),b("RTCGroupCallEscalationStore"),b("FBRTCMWProtocolStore")];b("gkx")("882839")||e.push(b("RTCProxyUserStore"));b("RTCAppDispatcher").explicitlyRegisterStores(e);d.$1=d.props.conferenceName!=null?d.props.conferenceName:b("generateRTCCallID")().toString();b("RTCCallActions").initialize({protocol:g.P2P,conferenceName:d.$1,serverInfoData:null,callID:d.$1});b("RTCP2PCallActions").setCallType(d.props.isInitiallyAudioCall?b("RTCCallType").AUDIO_ONLY:b("RTCCallType").AUDIO_VIDEO);return d}var d=c.prototype;d.componentDidMount=function(){b("gkx")("961768")&&b("MercurySyncEnvironment").setUp()};d.render=function(){__p&&__p();var a=null;if(this.props.allowsMWEscalation&&this.state.useGroupCallView){var c=b("RTCP2PCallStore").getState();c=c.escalationConferenceName;var d=!b("RTCCallStore").hasRemoteVideo(),e=new(b("RTCUserMediaRequest"))();e=e.set("state",b("RTCUserMediaRequestState").FULFILLED);a=b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("RTCGroupCallView.react"),{chatWindowVisible:!1,conferenceName:c||"",conferenceState:this.state.conferenceState,connection:this.state.connection,endCallReason:null,isAudioCall:d,layout:this.state.layout,localUser:this.state.localUser,onStartCallClick:this.$2,participants:this.state.participants,remoteUsers:this.state.remoteUsers,serverInfoData:this.state.serverInfoData,thread:null,userMediaRequest:e}),b("React").jsx(b("MessengerBugNub.react"),{isBetaEnabled:this.props.isBetaEnabled,unixName:this.props.unixName})]})}else a=b("React").jsx(b("RTCP2PCallContainer.react"),{allowsMWEscalation:this.props.allowsMWEscalation,conferenceName:this.$1,initializeVideo:this.props.initializeVideo,isBetaEnabled:this.props.isBetaEnabled,isCaller:this.props.isCaller,isInitiallyAudioCall:this.props.isInitiallyAudioCall,nonce:this.props.nonce,remoteUserFBID:this.props.remoteUserFBID,unixName:this.props.unixName});return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("RTCCallNotificationContainer.react"),{conferenceState:this.state.conferenceState}),b("React").jsx(i,{}),a]})};d.componentDidUpdate=function(a,c){a=b("RTCP2PCallStore").getState();a=a.escalationConferenceName;a!=null&&c.remoteUsers.size!==this.state.remoteUsers.size&&b("promiseDone")(b("MessengerCollisionContextQuery")(a),function(a){b("RTCCallInitUtils").initializeThreadFromCollisionContext(a)})};d.$2=function(a,b,c){};return c}(b("React").PureComponent);var i=function(){return!b("RoboticsPermission").is_authorized_robot?null:b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{}),children:b("React").jsx(h,{})})};e.exports=b("FluxContainer").create(a)}),null);